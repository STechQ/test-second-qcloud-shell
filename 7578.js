"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[7578,8613],{60968:(e,t,n)=>{n.d(t,{Z:()=>u});var l=n(8375),a=n.n(l),s=n(7638),o=n.n(s),i=n(69345),c=o()(a());c.i(i.Z),c.push([e.id,"\n",""]);const u=c},91056:(e,t,n)=>{n.d(t,{u:()=>l});const l=Symbol.for("IDialog")},8846:(e,t,n)=>{n.d(t,{e:()=>l});const l=Symbol.for("IBoAnnouncementUseCase")},88613:(e,t,n)=>{n.d(t,{J:()=>l});const l=Symbol.for("IViewModel")},77578:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var l=n(71093),a=n(73843),s=n(5627),o=n(8846),i=n(58817),c=n(83487),u=n(88613),r=n(66190),d=n(46233),p=n(53266),m=n(91056),_=n(91886),v=n(89001);const h=e=>((0,l.dD)("data-v-4fa87f14"),e=e(),(0,l.Cn)(),e),y={class:"page-title"},D={class:"filter-area"},g={class:"search-in-table"},b=h((()=>(0,l._)("i",{class:"mdi mdi-magnify"},null,-1))),C=h((()=>(0,l._)("i",{class:"mdi mdi-plus",style:{"font-size":"16px","margin-right":"4px"}},null,-1))),x={style:{"padding-bottom":"50px"},class:"table-container"},f={class:"items-table",id:"announcementListTable"},S=h((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"col-xl-1"},"Text"),(0,l._)("th",{class:"col-xl-1"},"Date Created"),(0,l._)("th",{class:"col-xl-1"},"Created By"),(0,l._)("th",{class:"col-xl-1"},"Display Type"),(0,l._)("th",{class:"col-xl-1"},"Date Updated"),(0,l._)("th",{class:"col-xl-1"},"Updated By"),(0,l._)("th",{class:"col-xl-2"},"Start Date"),(0,l._)("th",{class:"col-xl-2"},"End Date"),(0,l._)("th",{class:"col-xl-1"},"Active"),(0,l._)("th",{class:"col-xl-1"})])],-1))),w=["title"],T={style:{display:"flex","justify-content":"end"}},U=["onClick"],A=["onClick"],k=(0,l.aZ)({__name:"announcementList",props:{announcements:null},emits:["refreshTable"],setup(e,{emit:t}){const s=e,i=(0,l.Fl)((()=>s.announcements)),u=p.nC.resolve(c.y),h=p.nC.resolve(o.e),k=p.nC.resolve(m.u),Z=p.nC.resolve(_.r),B=(0,a.iH)(""),H=(0,a.iH)([]),E=(0,a.iH)(["10","20","30","All"]);function I(e){const a=e=>{"component"==e&&t("refreshTable")};e?k.showDialog((0,l.RC)((()=>n.e(6044).then(n.bind(n,66044)))),{closable:!0,title:"Update Announcement",width:"542px",maxHeight:"379px",closeCb:a},{announcement:e}):k.showDialog((0,l.RC)((()=>n.e(6044).then(n.bind(n,66044)))),{closable:!0,title:"Create New Announcement",width:"542px",maxHeight:"379px",closeCb:a})}function P(){return i.value.filter((e=>e.text.toUpperCase().includes(B.value.toUpperCase())||e.id.toUpperCase().includes(B.value.toUpperCase())))}function L(e){H.value=e}return(0,l.bv)((()=>{Z.addSortingToColumns("announcementListTable")})),(e,t)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",y,[(0,l._)("span",null,"Announcement List ("+(0,r.toDisplayString)((0,a.SU)(i).length)+")",1)]),(0,l._)("div",D,[(0,l._)("div",g,[b,(0,l.wy)((0,l._)("input",{class:"search-input",type:"text",placeholder:"Search",alt:"search","onUpdate:modelValue":t[0]||(t[0]=e=>B.value=e)},null,512),[[d.vModelText,B.value]])]),(0,l._)("button",{class:"create-announcement",onClick:t[1]||(t[1]=e=>I())},[C,(0,l.Uk)(" CREATE")])]),(0,l._)("div",x,[(0,l._)("table",f,[S,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(H.value,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id},[(0,l._)("td",{title:e.text,style:{"max-width":"200px"}},(0,r.toDisplayString)(e.text),9,w),(0,l._)("td",null,(0,r.toDisplayString)((0,a.SU)(Z).formatDate(e.createDate)),1),(0,l._)("td",null,(0,r.toDisplayString)(e.createdBy),1),(0,l._)("td",null,(0,r.toDisplayString)("headerBar"==e.displayType?"Header Bar":"Dialog"),1),(0,l._)("td",null,(0,r.toDisplayString)(e.updateDate?(0,a.SU)(Z).formatDate(e.updateDate):"-"),1),(0,l._)("td",null,(0,r.toDisplayString)(e.updatedBy?e.updatedBy:"-"),1),(0,l._)("td",null,(0,r.toDisplayString)(e.startDate?(0,a.SU)(Z).formatDate(e.startDate):"-"),1),(0,l._)("td",null,(0,r.toDisplayString)(e.endDate?(0,a.SU)(Z).formatDate(e.endDate):"-"),1),(0,l._)("td",null,(0,r.toDisplayString)(1==e.isActive?"Active":"Not Active"),1),(0,l._)("td",null,[(0,l._)("div",T,[(0,l._)("button",{class:"remove-btn",onClick:t=>async function(e){await u.execute((async()=>{await h.deleteAnnouncement(e)}),{loading:!0})}(e.id)},"DELETE",8,U),(0,l._)("button",{class:"view-btn",onClick:t=>I(e)},"UPDATE",8,A)])])])))),128))]),(0,l.Wm)(v.Z,{itemsPerPageOptions:E.value,columnCount:10,onPaginateData:L,searchInTable:B.value,getTableData:P},null,8,["itemsPerPageOptions","searchInTable"])])])],64))}});var Z=n(17450),B=n.n(Z),H=n(29530),E=n.n(H),I=n(16199),P=n.n(I),L=n(40458),q=n.n(L),R=n(62916),F=n.n(R),J=n(92165),M=n.n(J),N=n(60968),O={};O.styleTagTransform=M(),O.setAttributes=q(),O.insert=P().bind(null,"head"),O.domAPI=E(),O.insertStyleElement=F(),B()(N.Z,O),N.Z&&N.Z.locals&&N.Z.locals;const V=(0,n(32525).Z)(k,[["__scopeId","data-v-4fa87f14"]]),W={key:0},Y=(0,l.aZ)({__name:"announcements",setup(e){const t=s.nC.resolve(c.y),n=s.nC.resolve(i.X),r=s.nC.resolve(o.e),d=s.nC.resolve(u.J);n.setBreadcrumb(["Announcements"]);const p=(0,a.iH)(!1);t.execute((async()=>{await r.listAnnouncements(),p.value=!0}),{loading:!0});const m=(0,l.Fl)((()=>{var e;return null===(e=d.backoffice)||void 0===e?void 0:e.announcements}));return(e,t)=>((0,l.wg)(),(0,l.iD)("section",null,[p.value?((0,l.wg)(),(0,l.iD)("div",W,[(0,l.Wm)(V,{announcements:(0,a.SU)(m)},null,8,["announcements"])])):(0,l.kq)("v-if",!0)]))}}),j=Y}}]);