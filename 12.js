"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[12],{24172:(e,l,n)=>{n.d(l,{Z:()=>d});var a=n(8375),t=n.n(a),i=n(7638),o=n.n(i),s=n(69345),r=o()(t());r.i(s.Z),r.push([e.id,"\n",""]);const d=r},66716:(e,l,n)=>{n.d(l,{Z:()=>s});var a=n(8375),t=n.n(a),i=n(7638),o=n.n(i)()(t());o.push([e.id,"\n.user-info-type[data-v-bfe7cc14] {\n    border: 1px solid #E3E3E3;\n    box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n    border-radius: 10px;\n    background: #FFFFFF;\n    margin-right: 37px;\n    padding: 24px 24px 18px;\n    display: flex;\n    flex-direction: column;\n}\n.user-info-type[data-v-bfe7cc14]:last-child {\n    margin-right: 0;\n}\n.user-info-type-name[data-v-bfe7cc14] {\n    font-weight: 500;\n    font-size: 20px;\n    line-height: 23px;\n    color: #757575;\n    margin-bottom: 20px;\n    min-width: 100px;\n    flex: 1;\n}\n.user-info[data-v-bfe7cc14] {\n    font-weight: 500;\n    font-size: 28px;\n    line-height: 33px;\n    color: #151233;\n}\n.div-title[data-v-bfe7cc14] {\n    font-weight: 500;\n    font-size: 20px;\n    line-height: 23px;\n    color: #151233;\n    margin-bottom: 20px;\n}\n.user-org-table[data-v-bfe7cc14] {\n    background: #FFFFFF;\n    border: 1px solid #E3E3E3;\n    box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n    border-radius: 10px;\n    width: 100%;\n}\ntd[data-v-bfe7cc14]:hover {\n    background-color: none !important;\n}\ntable tr[data-v-bfe7cc14]:hover {\n    background-color: #EEEEEE;\n}\n.user-org-table th[data-v-bfe7cc14]\n    {\n    border-bottom: 1px solid #E3E3E3;\n    padding: 18px 36px\n}\n.user-org-table td[data-v-bfe7cc14] {\n    border-bottom: 1px solid #E3E3E3;\n    padding: 20px 36px;\n    color: #212121;\n    font-size: 14px;\n    line-height: 16px;\n}\n.user-org-table .thead[data-v-bfe7cc14] {\n    background: #F5F5F5;\n    color: #616161;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 16px;\n}\n.view-btn[data-v-bfe7cc14] {\n    background: none;\n    border:none;\n    color: #2C5A86;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 16px;\n}\n.manage-user-div[data-v-bfe7cc14] {\n    width: 85%; \n    display: flex; \n    justify-content: end;\n    position: absolute;\n    top: 80px;\n    right: 36px;\n}\n.manage-btn[data-v-bfe7cc14] {\n  border: 1px solid #151233;\n  border-radius: 4px;\n  padding: 1.5px 16px;\n  font-size: 15px;\n  color: #151233;\n  display: flex;\n  align-items: center;\n  font-weight: 500;\n}\n.delete-user-btn[data-v-bfe7cc14] {\n        background: #CBCBCB;\n        border-radius: 4px;\n        color: #212121;\n        border: none;\n        margin-left: 12px;\n        display: flex;\n        align-items: center;\n        padding: 1.5px 16px;\n        font-size: 15px;\n        font-weight: 500;\n}\n",""]);const s=o},91056:(e,l,n)=>{n.d(l,{u:()=>a});const a=Symbol.for("IDialog")},1937:(e,l,n)=>{n.d(l,{Ax:()=>t,v5:()=>a});const a=Symbol.for("IRouter");function t(e){}},91896:(e,l,n)=>{n.d(l,{Z:()=>M});var a=n(71093),t=n(66190),i=n(73843),o=n(46233),s=n(5627),r=n(58817),d=n(91886),c=n(83487),u=n(85875),v=n(89001);const p=e=>((0,a.dD)("data-v-e5ee2f88"),e=e(),(0,a.Cn)(),e),g={class:"page-title"},f={class:"filter-area"},b={class:"search-in-table"},x=p((()=>(0,a._)("i",{class:"mdi mdi-magnify"},null,-1))),m=[p((()=>(0,a._)("span",null,"Export Excel",-1)))],_={class:"table-container"},h={class:"items-table",id:"organizationListTable"},y=p((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{class:"col-xl-1"},"Name"),(0,a._)("th",{class:"col-xl-1"},"Organization Group"),(0,a._)("th",{class:"col-xl-1"},"App Count"),(0,a._)("th",{class:"col-xl-1"},"User Count"),(0,a._)("th",{class:"col-xl-1"},"UI Page Count"),(0,a._)("th",{class:"col-xl-1"},"UI Page Size"),(0,a._)("th",{class:"col-xl-1"},"CalcDate"),(0,a._)("th",{class:"col-xl-1"},"Date Created"),(0,a._)("th",{class:"col-xl-1"},"Created By"),(0,a._)("th",{class:"col-xl-1"},"Date Modified"),(0,a._)("th",{class:"col-xl-1"},"Tags"),(0,a._)("th",{class:"col-xl-1"},"License"),(0,a.kq)(' <th class="col-xl-1">Activity</th> '),(0,a._)("th",{class:"col-xl-1"})])],-1))),D={style:{display:"flex"}},C={style:{display:"flex"}},E=["onClick"],I=["onClick"],w=["onClick"],S=(0,a.aZ)({__name:"organizationList",props:{organizations:null,userID:null,tagID:null},emits:["refreshTable"],setup(e,{emit:l}){const n=e,p=s.nC.resolve(c.y),S=s.nC.resolve(r.X),k=s.nC.resolve(d.r),z=(0,a.Fl)((()=>n.organizations)),F=(0,i.iH)(""),U=(0,i.iH)([]),T=(0,i.iH)(["10","20","30","All"]),Z=(0,i.iH)(["All","LICENSED","Free","Demo Org"]),O=(0,i.iH)("All");function A(){l("refreshTable")}function H(){const e=z.value.filter((e=>{var l,n,a,t,i;return((null===(l=e.name)||void 0===l?void 0:l.toUpperCase().includes(F.value.toUpperCase()))||(null===(n=e.id)||void 0===n?void 0:n.toUpperCase().includes(F.value.toUpperCase()))||(null===(a=e.createdBy)||void 0===a?void 0:a.toUpperCase().includes(F.value.toUpperCase()))||(null===(t=e.organizationGroupName)||void 0===t?void 0:t.toUpperCase().includes(F.value.toUpperCase()))||(null===(i=e.tagNames)||void 0===i?void 0:i.map((e=>e.toUpperCase())).includes(F.value.toUpperCase())))&&"deleting"!=e.status}));return"All"==O.value?e:"LICENSED"==O.value?e.filter((e=>"LICENSED"==e.licensed)):"Free"==O.value?e.filter((e=>"Free"==e.licensed)):"Demo Org"==O.value?e.filter((e=>"Demo Org"==e.licensed)):e}function N(e){switch(e){case"All":O.value="All";break;case"LICENSED":O.value="LICENSED";break;case"Free":O.value="Free";break;case"Demo Org":O.value="Demo Org"}}function L(e){U.value=e}return(0,a.bv)((()=>{k.addSortingToColumns("organizationListTable")})),(e,l)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",g,[(0,a._)("span",null,"Organization List ("+(0,t.toDisplayString)((0,i.SU)(z).length)+")",1)]),(0,a._)("div",f,[(0,a._)("div",b,[x,(0,a.wy)((0,a._)("input",{class:"search-input",type:"text",placeholder:"Search",alt:"search","onUpdate:modelValue":l[0]||(l[0]=e=>F.value=e)},null,512),[[o.vModelText,F.value]])]),(0,a._)("div",null,[(0,a.Wm)(u.Z,{options:Z.value,default:Z.value[0],onInput:N,class:"bo-table-filters","selected-class":"selected-filter "},null,8,["options","default"])]),(0,a._)("button",{class:"btn_exportexcel",onClick:l[1]||(l[1]=e=>(0,i.SU)(S).downloadOrganizationListXlsxFile(H()))},m)]),(0,a._)("div",_,[(0,a._)("table",h,[y,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(U.value,(e=>{var l,o,s,r,d,c,u;return(0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",null,(0,t.toDisplayString)(e.name),1),(0,a._)("td",null,(0,t.toDisplayString)(e.organizationGroupName),1),(0,a._)("td",null,(0,t.toDisplayString)(null===(l=e.calculatedInfo)||void 0===l?void 0:l.appCount),1),(0,a._)("td",null,(0,t.toDisplayString)(null===(o=e.calculatedInfo)||void 0===o?void 0:o.userCount),1),(0,a._)("td",null,(0,t.toDisplayString)(null===(s=e.calculatedInfo)||void 0===s?void 0:s.uiPageCount),1),(0,a._)("td",null,(0,t.toDisplayString)((null===(r=e.calculatedInfo)||void 0===r?void 0:r.uiPageSize)?Math.ceil((null===(d=e.calculatedInfo)||void 0===d?void 0:d.uiPageSize)/1024)+"KB":""),1),(0,a._)("td",null,(0,t.toDisplayString)((null===(c=e.calculatedInfo)||void 0===c?void 0:c.calcDate)?(0,i.SU)(k).formatDate(null===(u=e.calculatedInfo)||void 0===u?void 0:u.calcDate):"-"),1),(0,a._)("td",null,(0,t.toDisplayString)((0,i.SU)(k).formatDate(e.createDate)),1),(0,a._)("td",null,(0,t.toDisplayString)(e.createdBy),1),(0,a._)("td",null,(0,t.toDisplayString)(e.modifyDate?(0,i.SU)(k).formatDate(e.modifyDate):"-"),1),(0,a._)("td",null,[(0,a._)("div",D,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.tagNames,(e=>((0,a.wg)(),(0,a.iD)("span",{key:e,class:"tag-name"},(0,t.toDisplayString)(e),1)))),128))])]),(0,a._)("td",null,(0,t.toDisplayString)(e.licensed),1),(0,a.kq)(' <td>  <span style="background: #FF6B6B; border-radius: 50%;padding: 6px 10px;">0</span> </td> '),(0,a._)("td",null,[(0,a._)("div",C,[n.userID?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"remove-btn",onClick:l=>{return a=n.userID,t=e.id,void p.execute((async()=>{await S.removeUserFromOrganization({userId:a,organizationId:t}),A()}),{loading:!0});var a,t}},"REMOVE",8,E)):(0,a.kq)("v-if",!0),n.tagID?((0,a.wg)(),(0,a.iD)("button",{key:1,class:"remove-btn",onClick:l=>{return a=n.tagID,t=e.id,void p.execute((async()=>{await S.removeTagFromOrganization({organizationId:t,tagId:a}),A()}),{loading:!0});var a,t}},"REMOVE",8,I)):(0,a.kq)("v-if",!0),(0,a._)("button",{class:"view-btn",onClick:l=>{return n=e.id,void window.open(`/backoffice/organization/${n}`,"_blank");var n}},"VIEW",8,w)])])])})),128))]),(0,a.Wm)(v.Z,{itemsPerPageOptions:T.value,columnCount:13,onPaginateData:L,searchInTable:F.value,selectedFilter:O.value,getTableData:H},null,8,["itemsPerPageOptions","searchInTable","selectedFilter"])])])],64))}});var k=n(17450),z=n.n(k),F=n(29530),U=n.n(F),T=n(16199),Z=n.n(T),O=n(40458),A=n.n(O),H=n(62916),N=n.n(H),L=n(92165),P=n.n(L),B=n(24172),R={};R.styleTagTransform=P(),R.setAttributes=A(),R.insert=Z().bind(null,"head"),R.domAPI=U(),R.insertStyleElement=N(),z()(B.Z,R),B.Z&&B.Z.locals&&B.Z.locals;const M=(0,n(32525).Z)(S,[["__scopeId","data-v-e5ee2f88"]])},10012:(e,l,n)=>{n.r(l),n.d(l,{default:()=>le});var a=n(71093),t=n(66190),i=n(73843),o=n(5627),s=n(91056),r=n(1937),d=n(58817),c=n(83487),u=n(91896);const v=e=>((0,a.dD)("data-v-bfe7cc14"),e=e(),(0,a.Cn)(),e),p={class:"manage-user-div"},g=[v((()=>(0,a._)("i",{class:"mdi mdi-cog",style:{"font-size":"20px","margin-right":"4px"}},null,-1))),v((()=>(0,a._)("span",null,"MANAGE USER",-1)))],f=[v((()=>(0,a._)("i",{class:"mdi mdi-delete",style:{"font-size":"20px","margin-right":"4px"}},null,-1))),v((()=>(0,a._)("span",null,"DELETE",-1)))],b={style:{display:"flex","margin-bottom":"32px"}},x={class:"user-info-type"},m=v((()=>(0,a._)("div",{class:"user-info-type-name"},"Name",-1))),_={class:"user-info"},h={class:"user-info-type"},y=v((()=>(0,a._)("div",{class:"user-info-type-name"},"Last Name",-1))),D={class:"user-info"},C={class:"user-info-type"},E=v((()=>(0,a._)("div",{class:"user-info-type-name"},"E-mail",-1))),I={class:"user-info"},w={class:"user-info-type",style:{flex:"1"}},S=v((()=>(0,a._)("div",{class:"user-info-type-name"},"ID",-1))),k={class:"user-info",style:{"font-size":"20px"}},z={class:"user-info-type",style:{flex:"1"}},F=v((()=>(0,a._)("div",{class:"user-info-type-name"},"Object ID",-1))),U={class:"user-info",style:{"font-size":"20px"}},T={style:{"margin-bottom":"32px"}},Z={key:0},O={style:{display:"none"}},A={class:"div-title"},H={class:"user-org-table"},N=v((()=>(0,a._)("tr",{class:"thead"},[(0,a._)("th",{class:"col-xl-3"},"ID"),(0,a._)("th",{class:"col-xl-3"},"Name"),(0,a._)("th",{class:"col-xl-3"},"Date Created"),(0,a._)("th",{class:"col-xl-2"},"Date Joined"),(0,a._)("th",{class:"col-xl-1"})],-1))),L=v((()=>(0,a._)("td",null,"-",-1))),P=v((()=>(0,a._)("td",null,[(0,a._)("div",{style:{display:"flex"}},[(0,a._)("button",{class:"remove-btn"},"REMOVE"),(0,a._)("button",{class:"view-btn"},"VIEW")])],-1))),B=(0,a.aZ)({__name:"user",setup(e){const l=o.nC.resolve(r.v5),v=o.nC.resolve(c.y),B=o.nC.resolve(d.X),R=l.getRouteParams();B.setBreadcrumb(["Users","User Detail"]);const M=(0,i.iH)(),q=(0,i.iH)([]),V=o.nC.resolve(s.u),W=(0,i.iH)(!1);function Y(){v.execute((async()=>{M.value=await B.getUserInfo(R.userId),q.value=await B.getOrganizationsByUserId(R.userId),W.value=!0}),{loading:!0})}return(0,a.wF)((()=>{Y()})),(e,i)=>{var o,s,r,d,c,R,G;return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",p,[(0,a._)("button",{class:"manage-btn",onClick:i[0]||(i[0]=e=>{V.showDialog((0,a.RC)((()=>n.e(7983).then(n.bind(n,27983)))),{closable:!0,title:"Manage User",width:"499px",maxHeight:"184px"},{user:M.value})})},g),(0,a._)("button",{class:"delete-user-btn",onClick:i[1]||(i[1]=e=>function(){var e,t;V.showDialog((0,a.RC)((()=>n.e(4828).then(n.bind(n,84828)))),{closable:!0,title:"Delete User",width:"577px",maxHeight:"206px"},{infoText:"User Email",placeholder:`Write user email '${null===(e=M.value)||void 0===e?void 0:e.email}' to delete`,validText:null===(t=M.value)||void 0===t?void 0:t.email,deleteCb:async()=>{await v.execute((async()=>{var e,n;await B.deleteUser(null===(e=M.value)||void 0===e?void 0:e.id,null===(n=M.value)||void 0===n?void 0:n.email),l.push("/backoffice/users")}),{loading:!0})}})}())},f)]),(0,a._)("div",b,[(0,a._)("div",x,[m,(0,a._)("div",_,(0,t.toDisplayString)(null===(o=M.value)||void 0===o?void 0:o.name),1)]),(0,a._)("div",h,[y,(0,a._)("div",D,(0,t.toDisplayString)(null===(s=M.value)||void 0===s?void 0:s.lastName),1)]),(0,a._)("div",C,[E,(0,a._)("div",I,(0,t.toDisplayString)(null===(r=M.value)||void 0===r?void 0:r.email),1)]),(0,a._)("div",w,[S,(0,a._)("div",k,(0,t.toDisplayString)(null===(d=M.value)||void 0===d?void 0:d.id),1)]),(0,a._)("div",z,[F,(0,a._)("div",U,(0,t.toDisplayString)(null===(c=M.value)||void 0===c?void 0:c.objectId),1)])]),(0,a._)("div",T,[W.value?((0,a.wg)(),(0,a.iD)("div",Z,[(0,a.Wm)(u.Z,{organizations:q.value,userID:null===(R=M.value)||void 0===R?void 0:R.id,onRefreshTable:Y},null,8,["organizations","userID"])])):(0,a.kq)("v-if",!0)]),(0,a._)("div",O,[(0,a._)("div",A,"Roles ("+(0,t.toDisplayString)(null===(G=M.value)||void 0===G?void 0:G.organizationIds.length)+")",1),(0,a._)("div",null,[(0,a._)("table",H,[N,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(q.value,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",null,(0,t.toDisplayString)(e.id),1),(0,a._)("td",null,(0,t.toDisplayString)(e.name),1),(0,a._)("td",null,(0,t.toDisplayString)(e.createDate),1),L,P])))),128))])])])],64)}}});var R=n(17450),M=n.n(R),q=n(29530),V=n.n(q),W=n(16199),Y=n.n(W),G=n(40458),K=n.n(G),j=n(62916),X=n.n(j),$=n(92165),J=n.n($),Q=n(66716),ee={};ee.styleTagTransform=J(),ee.setAttributes=K(),ee.insert=Y().bind(null,"head"),ee.domAPI=V(),ee.insertStyleElement=X(),M()(Q.Z,ee),Q.Z&&Q.Z.locals&&Q.Z.locals;const le=(0,n(32525).Z)(B,[["__scopeId","data-v-bfe7cc14"]])}}]);