"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[9282,8613],{35649:(a,n,e)=>{e.d(n,{Z:()=>r});var i=e(8375),l=e.n(i),t=e(7638),o=e.n(t),s=e(69345),d=o()(l());d.i(s.Z),d.push([a.id,"\n",""]);const r=d},8264:(a,n,e)=>{e.d(n,{Z:()=>s});var i=e(8375),l=e.n(i),t=e(7638),o=e.n(t)()(l());o.push([a.id,"\n.organization-info-type[data-v-8caeeace] {\n    border: 1px solid #E3E3E3;\n    box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n    border-radius: 10px;\n    background: #FFFFFF;\n    margin-right: 37px;\n    padding: 24px 24px 18px;\n    display: flex;\n    flex-direction: column;\n}\n.organization-info-type[data-v-8caeeace]:last-child {\n    margin-right: 0;\n}\n.organization-info-type-name[data-v-8caeeace] {\n    font-weight: 500;\n    font-size: 20px;\n    line-height: 23px;\n    color: #757575;\n    margin-bottom: 20px;\n    min-width: 100px;\n    flex: 1;\n}\n.organization-info[data-v-8caeeace] {\n    font-weight: 500;\n    font-size: 28px;\n    line-height: 33px;\n    color: #151233;\n}\n.div-title[data-v-8caeeace] {\n    font-weight: 500;\n    font-size: 24px;\n    line-height: 28px;\n    color: #151233;\n    margin-bottom: 20px;\n}\n.azure-info-table[data-v-8caeeace] {\n    background: #FFFFFF;\n    border: 1px solid #E3E3E3;\n    box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n    border-radius: 10px;\n    width: 100%;\n}\ntd[data-v-8caeeace]:hover {\n    background-color: none !important;\n}\n.azure-info-table tr[data-v-8caeeace]:hover {\n    background-color: #EEEEEE;\n}\n.azure-info-table th[data-v-8caeeace] {\n    border-bottom: 1px solid #E3E3E3;\n    padding: 18px 36px\n}\n.azure-info-table td[data-v-8caeeace] {\n    border-bottom: 1px solid #E3E3E3;\n    padding: 20px 36px;\n    color: #212121;\n    font-size: 14px;\n    line-height: 16px;\n}\n.azure-info-table .thead-azure[data-v-8caeeace] {\n    color: #616161;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 16px;\n}\n.view-btn[data-v-8caeeace] {\n    background: none;\n    border: none;\n    color: #2C5A86;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 16px;\n}\n.tags-div[data-v-8caeeace] {\n    background: #FFFFFF;\n    border: 1px solid #E3E3E3;\n    box-shadow: 1px 1px 2px rgba(33, 33, 33, 0.16);\n    border-radius: 10px;\n    padding: 14px 24px;\n    display: flex;\n    align-items: center;\n}\n.tags-title[data-v-8caeeace] {\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 19px;\n    color: #757575;\n    margin-right: 24px;\n}\n.tag-name[data-v-8caeeace] {\n    padding: 5.5px 8px;\n    background: #D0D1E9;\n    display: flex;\n    justify-content: center;\n    border-radius: 4px;\n    margin-right: 8px;\n    font-size: 14px;\n    color: #2F3160;\n    white-space: nowrap;\n    font-weight: 500;\n    cursor: pointer;\n}\n.manage-org-div[data-v-8caeeace] {\n    width: 77%;\n    display: flex;\n    justify-content: end;\n    position: absolute;\n    top: 80px;\n    right: 36px;\n}\n.manage-btn[data-v-8caeeace] {\n    border: 1px solid #151233;\n    border-radius: 4px;\n    padding: 1.5px 16px;\n    font-size: 15px;\n    color: #151233;\n    display: flex;\n    align-items: center;\n    font-weight: 500;\n}\n.delete-org-btn[data-v-8caeeace] {\n    background: #CBCBCB;\n    border-radius: 4px;\n    color: #212121;\n    border: none;\n    margin-left: 12px;\n    display: flex;\n    align-items: center;\n    padding: 1.5px 16px;\n    font-size: 15px;\n    font-weight: 500;\n}\n.view-btn[data-v-8caeeace] {\n    background: none;\n    border: none;\n    color: #2C5A86;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 16px;\n}\ntd[data-v-8caeeace]:hover {\n    background-color: none !important;\n}",""]);const s=o},91056:(a,n,e)=>{e.d(n,{u:()=>i});const i=Symbol.for("IDialog")},88613:(a,n,e)=>{e.d(n,{J:()=>i});const i=Symbol.for("IViewModel")},98829:(a,n,e)=>{e.d(n,{Z:()=>$});var i=e(71093),l=e(66190),t=e(73843),o=e(46233),s=e(5627),d=e(58817),r=e(91886),c=e(83487),u=e(89001);const v=a=>((0,i.dD)("data-v-faab14a4"),a=a(),(0,i.Cn)(),a),p={class:"page-title"},g={class:"filter-area"},f={class:"search-in-table"},x=v((()=>(0,i._)("i",{class:"mdi mdi-magnify"},null,-1))),m={class:"table-container"},y={class:"items-table",id:"applicationListTable"},b={key:0,class:"col-xl-1"},h=v((()=>(0,i._)("th",{class:"col-xl-1"},"UI Page Count",-1))),_=v((()=>(0,i._)("th",{class:"col-xl-1"},"UI Page Size",-1))),z=v((()=>(0,i._)("th",{class:"col-xl-2"},"Date Created",-1))),D=v((()=>(0,i._)("th",{class:"col-xl-1"},"Created By",-1))),w=v((()=>(0,i._)("th",{class:"col-xl-2"},"Date Updated",-1))),k=v((()=>(0,i._)("th",{class:"col-xl-2"},"Date Modified",-1))),S=v((()=>(0,i._)("th",{class:"col-xl-1"},"Mobile",-1))),C=v((()=>(0,i._)("th",{class:"col-xl-1"},"Date First Published",-1))),I=v((()=>(0,i._)("th",{class:"col-xl-1"},"Date Last Published",-1))),E=v((()=>(0,i._)("th",{class:"col-xl-1"},"Licensed",-1))),U={key:0},O={style:{padding:"18px 36px"}},P={key:0,class:"mdi mdi-cellphone",style:{"font-size":"26px"}},F=(0,i.aZ)({__name:"applicationList",props:{apps:null,displayOrgName:{type:Boolean}},setup(a){const n=a,e=(s.nC.resolve(c.y),s.nC.resolve(d.X),s.nC.resolve(r.r)),v=n.apps,F=(0,t.iH)(""),A=(0,t.iH)([]),Z=(0,t.iH)(["10","20","30","All"]),N=(0,t.iH)(["All","Mobile"]),T=(0,t.iH)("All");function H(){const a=v.filter((a=>{var n,e;return(null===(n=a.name)||void 0===n?void 0:n.toUpperCase().includes(F.value.toUpperCase()))||(null===(e=a.createdBy)||void 0===e?void 0:e.toUpperCase().includes(F.value.toUpperCase()))}));return"All"==T.value?a:"Mobile"==T.value?a.filter((a=>a.mobileUsage)):a}function G(a){A.value=a}function M(a){switch(a){case"All":T.value="All";break;case"Mobile":T.value="Mobile"}}return(0,i.bv)((()=>{e.addSortingToColumns("applicationListTable")})),(a,s)=>{const d=(0,i.up)("CustomSelect");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",p,[(0,i._)("span",null,"Application List ("+(0,l.toDisplayString)((0,t.SU)(v).length)+")",1)]),(0,i._)("div",g,[(0,i._)("div",f,[x,(0,i.wy)((0,i._)("input",{class:"search-input",type:"text",placeholder:"Search",alt:"search","onUpdate:modelValue":s[0]||(s[0]=a=>F.value=a)},null,512),[[o.vModelText,F.value]])]),(0,i._)("div",null,[(0,i.Wm)(d,{options:N.value,default:N.value[0],onInput:M,class:"filters","selected-class":"selected-filter"},null,8,["options","default"])])]),(0,i._)("div",m,[(0,i._)("table",y,[(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",{class:(0,l.normalizeClass)({"col-xl-2":!n.displayOrgName,"col-xl-1":n.displayOrgName})},"Name",2),n.displayOrgName?((0,i.wg)(),(0,i.iD)("th",b,"Organization")):(0,i.kq)("v-if",!0),h,_,z,D,w,k,S,C,I,E])]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(A.value,(a=>((0,i.wg)(),(0,i.iD)("tr",{key:a.ID},[(0,i.kq)(" <td>{{ app.ID }}</td> "),(0,i._)("td",null,(0,l.toDisplayString)(a.name),1),(0,i.kq)(" <td>{{ app.ownerUser }}</td> "),n.displayOrgName?((0,i.wg)(),(0,i.iD)("td",U,(0,l.toDisplayString)(a.organizationName),1)):(0,i.kq)("v-if",!0),(0,i._)("td",null,(0,l.toDisplayString)(a.uiPageCount),1),(0,i._)("td",null,(0,l.toDisplayString)(Math.ceil(a.uiPageSize/1024)+"KB"),1),(0,i._)("td",null,(0,l.toDisplayString)((0,t.SU)(e).formatDate(a.createDate)),1),(0,i._)("td",null,(0,l.toDisplayString)(a.createdBy),1),(0,i._)("td",null,(0,l.toDisplayString)(a.updateDate?(0,t.SU)(e).formatDate(a.updateDate):"-"),1),(0,i._)("td",null,(0,l.toDisplayString)(a.modifyDate?(0,t.SU)(e).formatDate(a.modifyDate):"-"),1),(0,i._)("td",O,[a.mobileUsage&&(a.mobileUsage.isMobilePublished||a.mobileUsage.isMobileTemplateUsed)?((0,i.wg)(),(0,i.iD)("i",P)):(0,i.kq)("v-if",!0)]),(0,i._)("td",null,(0,l.toDisplayString)(a.firstPublishDate?(0,t.SU)(e).formatDate(a.firstPublishDate):"-"),1),(0,i._)("td",null,(0,l.toDisplayString)(a.lastPublishDate?(0,t.SU)(e).formatDate(a.lastPublishDate):"-"),1),(0,i._)("td",null,(0,l.toDisplayString)(a.licensed?"LICENSED":"Free"),1)])))),128))]),(0,i.Wm)(u.Z,{itemsPerPageOptions:Z.value,columnCount:n.displayOrgName?12:11,onPaginateData:G,searchInTable:F.value,getTableData:H},null,8,["itemsPerPageOptions","columnCount","searchInTable"])])])],64)}}});var A=e(17450),Z=e.n(A),N=e(29530),T=e.n(N),H=e(16199),G=e.n(H),M=e(40458),q=e.n(M),B=e(62916),L=e.n(B),W=e(92165),R=e.n(W),K=e(35649),V={};V.styleTagTransform=R(),V.setAttributes=q(),V.insert=G().bind(null,"head"),V.domAPI=T(),V.insertStyleElement=L(),Z()(K.Z,V),K.Z&&K.Z.locals&&K.Z.locals;const $=(0,e(32525).Z)(F,[["__scopeId","data-v-faab14a4"]])},19282:(a,n,e)=>{e.r(n),e.d(n,{default:()=>Ca});var i=e(71093),l=e(66190),t=e(73843),o=e(5627),s=e(91056),d=e(1937),r=e(58817),c=e(91886),u=e(83487),v=e(88613),p=e(98829),g=e(95807);const f=a=>((0,i.dD)("data-v-8caeeace"),a=a(),(0,i.Cn)(),a),x={class:"manage-org-div"},m=[f((()=>(0,i._)("i",{class:"mdi mdi-cog",style:{"font-size":"20px","margin-right":"4px"}},null,-1))),f((()=>(0,i._)("span",null,"MANAGE ORGANIZATION",-1)))],y=[f((()=>(0,i._)("i",{class:"mdi mdi-delete",style:{"font-size":"20px","margin-right":"4px"}},null,-1))),f((()=>(0,i._)("span",null,"DELETE",-1)))],b={style:{display:"flex","margin-bottom":"32px"}},h={class:"organization-info-type"},_=f((()=>(0,i._)("div",{class:"organization-info-type-name"},"Name",-1))),z={class:"organization-info"},D={class:"organization-info-type"},w=f((()=>(0,i._)("div",{class:"organization-info-type-name"},"Users",-1))),k={class:"organization-info"},S={class:"organization-info-type"},C=f((()=>(0,i._)("div",{class:"organization-info-type-name"},"Apps",-1))),I={class:"organization-info"},E={class:"organization-info-type"},U=f((()=>(0,i._)("div",{class:"organization-info-type-name"},"UI Page Count",-1))),O={class:"organization-info"},P={class:"organization-info-type"},F=f((()=>(0,i._)("div",{class:"organization-info-type-name"},"UI Page Size",-1))),A={class:"organization-info"},Z={class:"organization-info-type",style:{flex:"1"}},N=f((()=>(0,i._)("div",{class:"organization-info-type-name"},"Date Created",-1))),T={class:"organization-info"},H={class:"organization-info-type",style:{flex:"1"}},G=f((()=>(0,i._)("div",{class:"organization-info-type-name"},"ID",-1))),M={class:"organization-info",style:{"font-size":"20px"}},q={class:"organization-info-type"},B=f((()=>(0,i._)("div",{class:"organization-info-type-name"},"Organization Group",-1))),L={class:"organization-info"},W={style:{"margin-bottom":"32px"}},R={class:"tags-div"},K=f((()=>(0,i._)("span",{class:"tags-title"},"Tags",-1))),V=["onClick"],$={style:{"margin-bottom":"32px"}},Y={key:0},j={style:{"margin-bottom":"32px"}},J={key:0},X={style:{"margin-bottom":"32px"}},Q=f((()=>(0,i._)("div",{class:"div-title"},"Azure",-1))),aa={class:"azure-info-table"},na=f((()=>(0,i._)("td",{class:"thead-azure col-xl-4"},"resourceGroupId",-1))),ea={key:0,class:"col-xl-7"},ia={key:1},la={class:"col-xl-1"},ta=f((()=>(0,i._)("td",{class:"thead-azure"},"modelStorageID",-1))),oa={key:0},sa={key:1},da=f((()=>(0,i._)("td",null,null,-1))),ra=f((()=>(0,i._)("td",{class:"thead-azure"},"cost",-1))),ca=f((()=>(0,i._)("td",null,"-",-1))),ua=f((()=>(0,i._)("tr",null,[(0,i._)("td",{class:"thead-azure"},"costDate"),(0,i._)("td",null,"-"),(0,i._)("td")],-1))),va=(0,i.aZ)({__name:"organization",setup(a){const n=o.nC.resolve(d.v5),f=o.nC.resolve(u.y),va=o.nC.resolve(r.X),pa=o.nC.resolve(c.r),ga=o.nC.resolve(v.J),fa=n.getRouteParams();va.setBreadcrumb(["Organizations","Organization Detail"]);const xa=(0,t.iH)(),ma=o.nC.resolve(s.u),ya=(0,t.iH)([]),ba=(0,t.iH)([]),ha=(0,t.iH)(),_a=(0,t.iH)([]),za=(0,t.iH)(!1),Da=(0,t.iH)(!1),wa=(0,t.iH)("");async function ka(){await f.execute((async()=>{xa.value=await va.getOrganizationInfo(fa.organizationId)}),{loading:!0})}function Sa(){const a=fa.organizationId;f.execute((async()=>{ya.value=await va.listOrganizationUsers(a),za.value=!0}),{loading:!0})}function Ca(){window.open(ha.value.overviewUrl,"_blank")}function Ia(){window.open(ha.value.costUrl,"_blank")}function Ea(){var a,n,e,i;f.execute((async()=>{await ka()}),{loading:!0});const l={};_a.value=[],null===(n=null===(a=ga.backoffice)||void 0===a?void 0:a.tags)||void 0===n||n.forEach((a=>l[a.ID]=a.name)),null===(i=null===(e=xa.value)||void 0===e?void 0:e.tags)||void 0===i||i.forEach((a=>{var n;const e={id:a,name:l[a]};null===(n=_a.value)||void 0===n||n.push(e)}))}return(0,i.wF)((async()=>{await ka(),await async function(){await f.execute((async()=>{await va.listTags()}),{loading:!0})}(),Ea(),Sa(),function(){const a=fa.organizationId;f.execute((async()=>{ba.value=await va.listOrganizationApps(a),Da.value=!0}),{loading:!0})}(),f.execute((async()=>{var a,n,e;(null===(e=null===(n=null===(a=xa.value)||void 0===a?void 0:a.cloud)||void 0===n?void 0:n.azure)||void 0===e?void 0:e.resourceGroupID)?ha.value=await va.getAzureResourceGroupUrls(xa.value.cloud.azure.resourceGroupID):console.log(`Organization '${xa.value.id} - ${xa.value.name}' has no "cloud.azure.resourceGroupID"!`)}),{loading:!0}),f.execute((async()=>{if(xa.value.organizationGroupId){const a=await va.getOrgGroupNameByOrgID(xa.value.id);wa.value=a||"No Organization Group"}else wa.value="No Organization Group"}),{loading:!0})})),(a,o)=>{var s,d,r,c,u,v,ga,fa,ka,Ua,Oa,Pa,Fa,Aa,Za,Na,Ta,Ha,Ga,Ma,qa;return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",x,[(0,i._)("button",{class:"manage-btn",onClick:o[0]||(o[0]=a=>{ma.showDialog((0,i.RC)((()=>e.e(5080).then(e.bind(e,85080)))),{closable:!0,title:"Manage Organization",width:"592px",maxHeight:"650px",closeCb:a=>{"component"==a&&Ea()}},{organization:xa.value})})},m),(0,i._)("button",{class:"delete-org-btn",onClick:o[1]||(o[1]=a=>function(){var a,l;ma.showDialog((0,i.RC)((()=>e.e(4828).then(e.bind(e,84828)))),{closable:!0,title:"Delete Organization",width:"577px",maxHeight:"206px"},{infoText:"Organization Name",placeholder:`Write organization name '${null===(a=xa.value)||void 0===a?void 0:a.name}' to delete`,validText:null===(l=xa.value)||void 0===l?void 0:l.name,deleteCb:async()=>{await f.execute((async()=>{var a,e;await va.deleteOrganization(null===(a=xa.value)||void 0===a?void 0:a.id,null===(e=xa.value)||void 0===e?void 0:e.name),n.push("/backoffice/organizations")}),{loading:!0})}})}())},y)]),(0,i._)("div",b,[(0,i._)("div",h,[_,(0,i._)("div",z,(0,l.toDisplayString)(null===(s=xa.value)||void 0===s?void 0:s.name),1)]),(0,i._)("div",D,[w,(0,i._)("div",k,(0,l.toDisplayString)(ya.value.length),1)]),(0,i._)("div",S,[C,(0,i._)("div",I,(0,l.toDisplayString)(ba.value.length),1)]),(0,i._)("div",E,[U,(0,i._)("div",O,(0,l.toDisplayString)(null===(r=null===(d=xa.value)||void 0===d?void 0:d.calculatedInfo)||void 0===r?void 0:r.uiPageCount),1)]),(0,i._)("div",P,[F,(0,i._)("div",A,(0,l.toDisplayString)((null===(u=null===(c=xa.value)||void 0===c?void 0:c.calculatedInfo)||void 0===u?void 0:u.uiPageSize)?Math.ceil(xa.value.calculatedInfo.uiPageSize/1024)+"KB":""),1)]),(0,i._)("div",Z,[N,(0,i._)("div",T,(0,l.toDisplayString)((0,t.SU)(pa).formatDate(null===(v=xa.value)||void 0===v?void 0:v.createDate)),1)]),(0,i._)("div",H,[G,(0,i._)("div",M,(0,l.toDisplayString)(null===(ga=xa.value)||void 0===ga?void 0:ga.id),1)]),(0,i.kq)(' <div class="organization-info-type">\n            <div class="organization-info-type-name">DB Name</div>\n            <div class="organization-info">{{ organization?.dbName }}</div> '),(0,i._)("div",q,[B,(0,i._)("div",L,(0,l.toDisplayString)(wa.value),1)])]),(0,i._)("div",W,[(0,i._)("div",R,[K,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(_a.value,(a=>((0,i.wg)(),(0,i.iD)("span",{key:a.id,class:"tag-name",onClick:e=>{return i=a.id,void n.push(`/backoffice/tag/${i}`);var i}},(0,l.toDisplayString)(a.name),9,V)))),128))])]),(0,i._)("div",$,[za.value?((0,i.wg)(),(0,i.iD)("div",Y,[(0,i.Wm)(g.Z,{users:ya.value,onRefreshTable:Sa},null,8,["users"])])):(0,i.kq)("v-if",!0)]),(0,i._)("div",j,[Da.value?((0,i.wg)(),(0,i.iD)("div",J,[(0,i.Wm)(p.Z,{apps:ba.value},null,8,["apps"])])):(0,i.kq)("v-if",!0)]),(0,i._)("div",X,[Q,(0,i._)("div",null,[(0,i._)("table",aa,[(0,i._)("tr",null,[na,(null===(Ua=null===(ka=null===(fa=xa.value)||void 0===fa?void 0:fa.cloud)||void 0===ka?void 0:ka.azure)||void 0===Ua?void 0:Ua.resourceGroupID)?((0,i.wg)(),(0,i.iD)("td",ea,(0,l.toDisplayString)(null===(Fa=null===(Pa=null===(Oa=xa.value)||void 0===Oa?void 0:Oa.cloud)||void 0===Pa?void 0:Pa.azure)||void 0===Fa?void 0:Fa.resourceGroupID),1)):((0,i.wg)(),(0,i.iD)("td",ia,"-")),(0,i._)("td",la,[(0,i._)("div",null,[(null===(Aa=ha.value)||void 0===Aa?void 0:Aa.overviewUrl)?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"view-btn",onClick:Ca},"VIEW")):(0,i.kq)("v-if",!0)])])]),(0,i._)("tr",null,[ta,(null===(Ta=null===(Na=null===(Za=xa.value)||void 0===Za?void 0:Za.cloud)||void 0===Na?void 0:Na.azure)||void 0===Ta?void 0:Ta.modelStorageID)?((0,i.wg)(),(0,i.iD)("td",oa,(0,l.toDisplayString)(null===(Ma=null===(Ga=null===(Ha=xa.value)||void 0===Ha?void 0:Ha.cloud)||void 0===Ga?void 0:Ga.azure)||void 0===Ma?void 0:Ma.modelStorageID),1)):((0,i.wg)(),(0,i.iD)("td",sa,"-")),da]),(0,i._)("tr",null,[ra,ca,(0,i._)("td",null,[(0,i._)("div",null,[(null===(qa=ha.value)||void 0===qa?void 0:qa.costUrl)?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"view-btn",onClick:Ia},"VIEW")):(0,i.kq)("v-if",!0)])])]),ua])])])])}}});var pa=e(17450),ga=e.n(pa),fa=e(29530),xa=e.n(fa),ma=e(16199),ya=e.n(ma),ba=e(40458),ha=e.n(ba),_a=e(62916),za=e.n(_a),Da=e(92165),wa=e.n(Da),ka=e(8264),Sa={};Sa.styleTagTransform=wa(),Sa.setAttributes=ha(),Sa.insert=ya().bind(null,"head"),Sa.domAPI=xa(),Sa.insertStyleElement=za(),ga()(ka.Z,Sa),ka.Z&&ka.Z.locals&&ka.Z.locals;const Ca=(0,e(32525).Z)(va,[["__scopeId","data-v-8caeeace"]])}}]);