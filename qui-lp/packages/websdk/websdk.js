!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.websdk=t():e.websdk=t()}(this,(()=>(()=>{"use strict";var e,t,n,r,o={60035:(e,t,n)=>{n.d(t,{k:()=>f});var r=n(62190),o=n(56303),i=n(67642),s=n(67359),a=n(56446),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},c=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},l=function(){function e(e){var t=e.moduleManager;this.moduleManager=t}return e.prototype.collectQJson=function(e,t,n,o,s,l){var d=this,p=[],g=n.GetEditMode(),f=l.qLang,h=l.level,v=void 0===h?0:h,b=function(e){e&&e.forEach((function(e){return u(d,void 0,void 0,(function(){var t,r,s,u,l;return c(this,(function(c){if(!e)return[2];switch(e.T){case a.h.customComponent.name:case a.h.renderingComponent.name:(t=n.Evaluate({script:null===(l=e.P[a.h.customComponent.props.qjsonPath])||void 0===l?void 0:l.H,response:null,lang:i.i.getLang({ctrl:e,qLang:f})}))&&p.push({type:"qjson",qProm:o(t),qJsonPath:t,subPromiseList:[]});break;case a.h.messaging.name:if(g)break;r=e.P[a.h.messaging.props.masterPath],(s=r&&n.Evaluate({script:r.H,response:null,lang:i.i.getLang({ctrl:e,qLang:f})}))&&p.push({type:"masterPage",qProm:o(s),qJsonPath:s,subPromiseList:[]});break;default:(u=this.moduleManager.CheckComponent(e.T,e.CP))&&p.push({type:"domainComp",prom:u,compPath:e.CP,compName:e.T,subPromiseList:[]})}return e.C&&Object.keys(e.C).forEach((function(t){return b(e.C[t].c)})),[2]}))}))}))};return b(e.cJson),new Promise((function(i,a){return u(d,void 0,void 0,(function(){function l(){0!=v||!d||g?i(h):a(new Error("Not implemented: Navigating from a page with a masterPage to a page with no masterPage"))}var d,g,h,b,y,m=this;return c(this,(function(i){switch(i.label){case 0:return d=null===(y=null===(b=null==s?void 0:s.GetLastHistory())||void 0===b?void 0:b.masterData)||void 0===y?void 0:y.path,g=!1,h={qjson:e},p.length?[4,Promise.all(p.map((function(e){return u(m,void 0,void 0,(function(){var i,u,l,p;return c(this,(function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),"domainComp"!=e.type?[3,2]:[4,e.prom];case 1:return c.sent(),[2];case 2:return[4,e.qProm];case 3:return i=c.sent(),"masterPage"==e.type&&(g=!0)&&(h=this.handleMasterPage(i,e.qJsonPath,t,d)||h),[4,this.collectQJson(i,e.qJsonPath,n,o,s,{qLang:f,level:v+1})];case 4:return c.sent(),[3,6];case 5:return u=c.sent(),l="domainComp"!=e.type?e.qJsonPath:e.compName+(e.compPath?" "+e.compPath:""),p="Error on collectQJson "+e.type+": "+l+": "+u.message,r.Y.Log({logMessage:p,error:u}),a(new Error(p)),[3,6];case 6:return[2]}}))}))})))]:(l(),[2]);case 1:return i.sent(),l(),[2]}}))}))}))},e.prototype.handleMasterPage=function(e,t,n,o){if(o!=t){if(o&&o!=t)throw new Error("Not implemented: Navigating from a page with a masterPage to a page with a different masterPage");var i=structuredClone(e),u=s.C.findComponentByType(i.cJson,a.h.renderingComponent.name);if(u){if(n)return u.P.QJsonPath={H:"╬'"+n+"'╩╩",T:"prop",HL:"QS"},{qjson:i,changedPath:t};r.Y.Log({logMessage:"page has a masterPage, but does not know self path",logType:r.h.Warning})}else r.Y.Log({logMessage:"page had masterPage but masterPage does not have RenderingComponent",logType:r.h.Warning})}else r.Y.Log({logMessage:"page has masterPage but previous page had the same master, so pass",logType:r.h.Trace})},e}(),d=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},p=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function g(e){var t=this;return function(r){return d(t,void 0,void 0,(function(){var t;return p(this,(function(o){switch(o.label){case 0:return[4,n.e(908).then(n.bind(n,84908))];case 1:return t=o.sent(),Object.keys(t).forEach((function(e){return r[e]=t[e]})),[2,t[e]]}}))}))}}var f=function(){function e(t){var n=t.qjsonRetriever,r=t.moduleManager,o=t.context;this.contextName=e.contextName,this.qJsonPool={},this.qjsonRetriever=n,this.moduleManager=r,this.qjsonCollector=new l({moduleManager:r}),this.context=o,this.ResetPool()}return Object.defineProperty(e.prototype,"Dory",{get:function(){return this._Dory},set:function(e){this._Dory=e},enumerable:!1,configurable:!0}),e.prototype.ResetPool=function(){var e=this;this.qJsonPool={get"qjson://QLegend"(){return g("QLegend")(e.qJsonPool)},get"qjson://QCaptcha"(){return g("QCaptcha")(e.qJsonPool)},get"qjson://QDynamicFields"(){return g("QDynamicFields")(e.qJsonPool)},get"qjson://QQRCode"(){return g("QQRCode")(e.qJsonPool)}}},Object.defineProperty(e.prototype,"ModuleManager",{get:function(){return this.moduleManager},enumerable:!1,configurable:!0}),e.prototype.retrieveAndFillQjsonAsync=function(e){var t,n,i=e.qjson,s=e.dory,a=e.doryJr;return d(this,void 0,void 0,(function(){var e,u,c,l,g,f,h,v,b;return p(this,(function(y){switch(y.label){case 0:return e=this,u=i,c=this.context.GetItemSingle("QShell"),l=(null===(t=c)||void 0===t?void 0:t.getRender()).DoryInst.GetShellConfiguration(),g=function(e){return d(this,void 0,void 0,(function(){var t,n;return p(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return r.sent(),n=(t=o.E).qJsonExtractor,[4,e];case 2:return[2,n.apply(t,[r.sent()])]}}))}))},f=function(t,n){var o;return d(this,void 0,void 0,(function(){var n,i,s,a,c;return p(this,(function(d){switch(d.label){case 0:return(n=e.qJsonPool[t])?"function"!=typeof n?[3,1]:[2,n(e.qJsonPool)]:[3,5];case 1:return n instanceof Promise?[4,n]:[3,3];case 2:return[2,d.sent()];case 3:return[2,n];case 4:return[3,10];case 5:i=e.qjsonRetriever.retrieveQJsonAsync(t,u.options),s=e.qjsonRetriever.disablePagePool,d.label=6;case 6:return d.trys.push([6,8,,9]),a=g(i),e.Dory.GetEditor()||s||(e.qJsonPool[t]=a),[4,a];case 7:return n=d.sent(),e.Dory.GetEditor()||s||(e.qJsonPool[t]=n),[3,9];case 8:throw c=d.sent(),r.Y.Log({logMessage:"qjson error: "+t+" has error",logType:r.h.Trace,additional:c,minEngineLogLevel:null===(o=l.getMinEngineLogType)||void 0===o?void 0:o.call(l)}),c;case 9:return[2,n];case 10:return[2]}}))}))},"content"!=i.type?[3,1]:(v=i.content,[3,3]);case 1:return[4,f(i.path,!0)];case 2:v=y.sent(),y.label=3;case 3:return h=v,b="content"==i.type?void 0:i.path,[4,this.qjsonCollector.collectQJson(h,b,s,f,a,{qLang:null===(n=h.opt)||void 0===n?void 0:n.QL})];case 4:return[2,y.sent()]}}))}))},e.prototype.getCJson=function(e){return this.qJsonPool[e]},e.contextName="QJsonPool",e}()},56446:(e,t,n)=>{n.d(t,{h:()=>r});var r={renderingComponent:{name:"RenderingComponent",props:{qjsonPath:"QJsonPath"}},customComponent:{name:"CustomComponent",props:{qjsonPath:"QJsonPath"}},messaging:{name:"Messaging",props:{masterPath:"masterPath"}}}},67359:(e,t,n)=>{n.d(t,{C:()=>i,h:()=>r});var r,o=n(6422);!function(e){e[e.PID=0]="PID",e[e.EditorID=1]="EditorID",e[e.Render=2]="Render"}(r||(r={}));var i=function(){function e(){}return e.ForEachComp=function(e,t,n){var r=function(e){for(var n=e.curJson,o=e.path,i=e.parentCompJson,s=e.compiledJson,a=0;a<n.length;a++){var u=n[a],c=null==s?void 0:s[a];if(u){if(o.push(a),!1===t(u,o.map((function(e){return e})),{compName:u.T,eID:u._Editor.eID,parentCompJson:i,compiledJson:c}))return!1;if(u.C)for(var l in u.C){if(o.push(l),!1===r({curJson:u.C[l].c,path:o,parentCompJson:u,compiledJson:null==c?void 0:c.C[l].c}))return!1;o.pop()}o.pop()}}};r({curJson:e,path:[],compiledJson:n})},e.findComponentByType=function(t,n){var r;return e.ForEachComp(t,(function(e){return e.T!=n||(r=e,!1)})),r},e.prototype.findParentArrayPath=function(t,n){return e.FindParentArrayPath(t,n)},e.FindParentArrayPath=function(e,t){var n,r,i=null,s=e.pop();if(0==e.length)return{selfIndex:s,parentArray:t,parent:null};var a=t;try{for(var u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),c=u.next();!c.done;c=u.next()){var l=c.value;a=(new o.O).isObject(a)?(i=a).C[l].c:a[l]}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return{selfIndex:s,parentArray:a,parent:i}},e.prototype.findCompBySearchField=function(t,n,o){return void 0===o&&(o=r.EditorID),e.FindCompBySearchField(t,n,o)},e.FindCompBySearchField=function(t,n,o){void 0===o&&(o=r.EditorID);var i=null;return e.ForEachComp(t,(function(e,t){var s;switch(o){case r.PID:if(e.P.ID.H==n)return i={compJson:e,curPath:t},!1;break;case r.Render:if((null===(s=e.P.Render)||void 0===s?void 0:s.H)==n)return i={compJson:e,curPath:t},!1;break;case r.EditorID:default:if(e._Editor.eID==n)return i={compJson:e,curPath:t},!1}return!0})),i},e.ParseParameters=function(e,t){if(e){var n="TS"==t||"JS"==t?function(e){return{name:e.split(":")[0],type:e.split(":")[1]}}:function(e){return{name:e}};return e.split(",").map(n)}},e.FindCompPathByEID=function(t,n){var r;return e.ForEachComp(t,(function(e,t){return e._Editor.eID!=n||(r=t,!1)})),r},e}()},5475:(e,t,n)=>{n.d(t,{E:()=>r});var r=function(){function e(){}return e.LoadModule=function(e){var t={};return new Function("module","exports",e)(t,{}),t.exports},e.FetchModuleBody=function(e){return new Promise((function(t,n){return fetch(e).then((function(e){return e.text().then((function(n){return t({body:n,status:e.status})})).catch(n)})).catch(n)}))},e}()},62190:(e,t,n)=>{var r;n.d(t,{h:()=>r,Y:()=>a}),function(e){e[e.Debug=0]="Debug",e[e.MobilDebug=1e3]="MobilDebug",e[e.Trace=2e5]="Trace",e[e.Warning=5e5]="Warning",e[e.Error=1e6]="Error"}(r||(r={}));var o=function(){function e(){}return e.prototype.writeMessage=function(e){var t;null===(t=this.logHandler)||void 0===t||t.call(this,e)},e}(),i=n(36070),s=function(){function e(){}return e.trySingularize=function(e,t){return!this.singularized(e)&&(i.q.Instance.Window[e]=t,!0)},e.singularized=function(e){return i.q.Instance.Window[e]},e.getFreeName=function(e){for(var t,n=null!==(t=null===i.q||void 0===i.q?void 0:i.q.Instance.Window)&&void 0!==t?t:{},r=0;n[e+"_"+ ++r];);return e+"_"+r},e}(),a=function(){function e(){return{Log:this.Log}}return Object.defineProperty(e,"LogBulkManager",{get:function(){return e.logBulkManager||(e.logBulkManager=s.singularized(e.windowName)),e.logBulkManager},enumerable:!1,configurable:!0}),e.Init=function(e){var t=e.callBack;e.clear,this.logBulkManager=new o,this.logBulkManager.logHandler=t,s.trySingularize(this.windowName,this.logBulkManager)},e.Log=function(e){var t,n=e.logMessage,o=e.logType,i=void 0===o?r.Trace:o,s=e.error,a=e.backgroundColor,u=void 0===a?null:a,c=e.textColor,l=void 0===c?null:c,d=e.additional,p=void 0===d?null:d,g=e.source,f=e.isClientLog,h=void 0!==f&&f,v=e.yamlLogType,b=e.minEngineLogLevel,y=u||l?"background: "+u+"; color: "+l:null;switch(!0){case i==r.MobilDebug&&this.logLevel.indexOf(r.MobilDebug)>-1:case i==r.Debug&&this.logLevel.indexOf(r.Debug)>-1:case i==r.Trace&&this.logLevel.indexOf(r.Trace)>-1:t=console.log;break;case i==r.Error&&this.logLevel.indexOf(r.Error)>-1:t=console.error;break;case i==r.Warning&&this.logLevel.indexOf(r.Warning)>-1:t=console.warn}var m=[n];y&&"string"==typeof n&&(m[0]="%c"+n,m.push(y)),s&&m.push(s),p&&m.push(p),g&&m.push({source:g}),null==t||t.apply(console,m),(h||h&&v&&v<=i||b&&b<=i)&&this.prepareClientLog(n,i)},e.prepareClientLog=function(t,n){var o,i,s=new Date(Date.now()),a=s.getFullYear()+"."+("0"+(s.getMonth()+1)).slice(-2)+"."+("0"+s.getDate()).slice(-2)+" "+s.getHours()+":"+("0"+s.getMinutes()).slice(-2)+":"+("0"+s.getSeconds()).slice(-2)+":"+s.getMilliseconds(),u=this.getCalleFunctionName();if("string"!=typeof t&&n>0)try{i=this.shorten(JSON.stringify(t),n)}catch(e){i="Can not stringfy the given log. Type of log data is: "+Object.prototype.toString.call(t)}else i=this.shorten(t,n);null===(o=e.LogBulkManager)||void 0===o||o.writeMessage({message:i,type:r[n],time:a,caller:u})},e.getCalleFunctionName=function(){return""},e.clearLogs=function(){var t,n;null===(n=null===(t=e.LogBulkManager)||void 0===t?void 0:t.clear)||void 0===n||n.call(t)},e.shorten=function(e,t){return t>e.length?e:"Non trimmed message size is: "+e.length},e.prototype.Log=function(t){return e.Log(t)},e.windowName=s.getFreeName("shrimp_shelldorynemo_pulsar_lbm"),e.logLevel=[r.MobilDebug,r.Trace,r.Debug,r.Warning,r.Error],e}()},56303:(e,t,n)=>{n.d(t,{E:()=>s});var r=function(){function e(){}return e.ParseQJsonContent=function(e){var t=e;if(e.indexOf("let pjson =")>-1){var n=e.split("let pjson =");t=(n=n[1].split(";\nexport")[0].split(";\r\nexport"))[0]}else if(t.indexOf("rally_microUI")>-1){var r=t.indexOf("registerQJson"),o=t.indexOf(",",r)+1;t=t.substring(o,t.length-2)}return JSON.parse(t)},e}(),o=function(){function e(){}return e.QJsonBodyToString=function(e,t){return"let pjson = "+(1==t?JSON.stringify(e):JSON.stringify(e,null,"\t"))+";\r\nexport default pjson"},e.prototype.Serialize=function(t){var n,r=e.boundary+"\r\n",o=e.headerPrefix+"v2\r\nboundary: "+r+"\r\n"+r,i=function(e,t,n){return"name: "+e+"\r\ntype: "+t+"\r\n\r\n"+n},s=t.files,a=t.cFiles;try{t.files=void 0,t.cFiles=void 0,n=i("qjson","qjson",e.QJsonBodyToString(t))}finally{t.files=s,t.cFiles=a}return o+n+(s?r+Object.keys(s).map((function(e){return i(e,"source",s[e])})).join(r):"")+(a?r+Object.keys(a).map((function(e){return i(e,"compiled",a[e])})).join(r):"")},e.prototype.Parse=function(e){var t=this.nextLine(e,0),n=this.extractHeaders(e,t.lastIndex),o=n.headers.boundary,i=n.lastIndex,s={},a={};do{var u=this.getSection(e,o,i);("compiled"==u.headers.type?a:s)[u.headers.name]={headers:u.headers,content:u.section},i=u.lastIndex}while(-1!=i);var c=r.ParseQJsonContent(s.qjson.content);delete s.qjson;var l=c.files={},d=c.cFiles={};return Object.keys(s).forEach((function(e){return l[e]=s[e].content})),Object.keys(a).forEach((function(e){return d[e]=a[e].content})),c},e.prototype.getSection=function(e,t,n){var r=this.extractHeaders(e,n),o=this.getTillBoundary(e,t,r.lastIndex);return{headers:r.headers,section:o.section,lastIndex:o.lastIndex}},e.prototype.getTillBoundary=function(e,t,n){var r=e.indexOf(t,n);return-1==r?{section:e.substring(n),lastIndex:-1}:{section:e.substring(n,r),lastIndex:r+t.length+1}},e.prototype.extractHeaders=function(e,t){var n={},r={line:"",lastIndex:t};do{if(!(r=this.nextLine(e,r.lastIndex)).line)break;var o=this.parseLine(r.line);o&&(n[o.key]=o.value)}while(-1!=r.lastIndex);return{headers:n,lastIndex:r.lastIndex}},e.prototype.parseLine=function(e){var t=e.indexOf(":");if(-1!=t)return{key:e.substring(0,t).trim(),value:e.substring(t+1).trim()}},e.prototype.nextLine=function(e,t){var n=e.indexOf("\n",t);return{line:i(e.substring(t,-1==n?void 0:n)),lastIndex:n+1||-1}},e.boundary="-------------------QJSONFileBoundary-----------------------------",e.headerPrefix="qjson-",e}();function i(e){return e.endsWith("\r")?e.substring(0,e.length-1):e}var s=function(){function e(){}return e.qJsonExtractor=function(t){var n=e.qJsonMediumDecider(t);if(n.startsWith("qjson-")){var r=i(n.substring("qjson-".length,n.indexOf("\n")));return a[r].Parse(n)}return e.ParseQJsonContent(n)},e.qJsonMediumDecider=function(e){if("string"==typeof e)return e.startsWith('{"qjson":"')?JSON.parse(e).qjson:e;var t=JSON.stringify(e);return e.qjson||t},e.ParseQJsonContent=function(e){return r.ParseQJsonContent(e)},e}(),a={v2:new o}},36348:(e,t,n)=>{n.d(t,{t:()=>i});var r=document.currentScript.src,o=r.substring(0,r.lastIndexOf("/")),i=function(){function e(){}return e.getScriptRoot=function(){return o},e.concatUrl=function(e,t){return(e.endsWith("/")?e:e+"/")+(t.startsWith("/")?t.substring(1):t)},e}()},6422:(e,t,n)=>{n.d(t,{O:()=>r});var r=function(){function e(){}return e.prototype.isJsonString=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},e.prototype.GetObjectType=function(e){return Object.prototype.toString.call(e)},e.prototype.isArray=function(e){return"[object Array]"==this.GetObjectType(e)},e.prototype.isString=function(e){return"[object String]"===this.GetObjectType(e)},e.prototype.isNumber=function(e){return"[object Number]"===this.GetObjectType(e)},e.prototype.isNull=function(e){return null==e},e.prototype.isFunction=function(e){return"[object Function]"===this.GetObjectType(e)},e.prototype.isObject=function(e){return"[object Object]"===this.GetObjectType(e)},e.prototype.isBool=function(e){return"[object Boolean]"===this.GetObjectType(e)},e.prototype.isBooleanConstructor=function(e){return"function Boolean() { [native code] }"==(null==e?void 0:e.toString())},e.prototype.isStringConstructor=function(e){return"function String() { [native code] }"==(null==e?void 0:e.toString())},e.prototype.isArrayConstructor=function(e){return"function Array() { [native code] }"==(null==e?void 0:e.toString())},e.prototype.isObjectConstructor=function(e){return"function Object() { [native code] }"==(null==e?void 0:e.toString())},e.prototype.isNumberConstructor=function(e){return"function Number() { [native code] }"==(null==e?void 0:e.toString())},e.prototype.isDateString=function(e){return!!this.isString(e)&&!isNaN(Date.parse(e))},e.prototype.isDate=function(e){return"[object Date]"===this.GetObjectType(e)},e.prototype.isFile=function(e){return"[object File]"===this.GetObjectType(e)},e.prototype.isBlob=function(e){return new Blob([e])instanceof Blob},e.prototype.cloneObject=function(e){var t;if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return(t=new Date).setTime(e.getTime()),t;if(Array.isArray(e)){t=[];for(var n=0,r=e.length;n<r;n++)t[n]=this.cloneObject(e[n]);return t}if("object"==typeof e){for(var o in t=e.constructor&&e.constructor.length<1?new e.constructor:{},e)e.hasOwnProperty(o)&&(t[o]=this.cloneObject(e[o]));return t}throw new Error("Unable to copy obj! Its type isn't supported.")},e}()},40591:(e,t,n)=>{n.d(t,{_:()=>o});var r=n(36348),o=function(){function e(){}return e.getScriptRoot=function(){return r.t.getScriptRoot()},e.concatUrl=function(e,t){return r.t.concatUrl(e,t)},e.IsDirectUrl=function(e){return e.startsWith("http:")||e.startsWith("https:")||e.startsWith("blob:")},e.GetDomain=function(e){var t;try{t=new URL(e)}catch(r){var n=document.createElement("a");n.href=e,t=n}return t.protocol+"//"+t.hostname+(t.port?":"+t.port:"")},e.ParseQuery=function(e){var t={};if(!e)return t;for(var n=("?"===e[0]?e.substr(1):e).split("&"),r=0;r<n.length;r++){var o=n[r].split("="),i=decodeURIComponent(o[0]),s=t[i];s||(s=[],t[i]=s),s.push(decodeURIComponent(o[1]||""))}return t},e}()},36070:(e,t,n)=>{n.d(t,{q:()=>s});var r=n(62190),o=function(){function e(){}return e.trySingularize=function(e,t,n){var r=t[e];return r||(r=t[e]=n),r},e}(),i="undefined",s=function(){function e(){this.doc=typeof document!==i?document:{addEventListener:function(e,t,n){r.Y.Log({logMessage:"Enviroment does not support document. Triggering document.addEventListener now, type is: "+e,logType:r.h.Warning}),t({target:{readyState:this.readyState}})},createElement:function(e,t){return{tagName:e,options:t}},readyState:"complete"},this.hist=typeof history!==i?history:{pushState:function(e,t,n){r.Y.Log({logMessage:"history.pushState not supported on Node. title: "+t,logType:r.h.Debug})}},this.win=typeof window!==i?window:{setInterval,clearInterval,setTimeout,clearTimeout,atob,btoa},this.helperWorker={worker:function(e,t){return typeof Worker!==i?new Worker(e,t):void 0}}}return Object.defineProperty(e.prototype,"onPopState",{set:function(e){typeof window!==i?window.onpopstate=e:r.Y.Log({logMessage:"onPopState not supported on Node.",logType:r.h.Debug})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){return this.doc},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"history",{get:function(){return this.hist},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Window",{get:function(){return this.win},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Worker",{get:function(){return this.helperWorker},enumerable:!1,configurable:!0}),e.Instance=o.trySingularize("theOneWindow",(new e).Window,new e),e}()},67642:(e,t,n)=>{n.d(t,{i:()=>r});var r=function(){function e(){}return e.getLang=function(e){var t,n,r=e.self,o=e.ctrl,i=e.qJson,s=e.qLang;return r||(null===(t=null==o?void 0:o.O)||void 0===t?void 0:t.CL)||(null===(n=null==i?void 0:i.opt)||void 0===n?void 0:n.QL)||s},e}()},3085:(e,t,n)=>{n.d(t,{D:()=>o});var r=n(40591),o=function(){function e(){}return e.migrateLegacySettings=function(e){var t=function(e,n,r){1!=n.length?(r[n[0]]&&"object"!=typeof r[n[0]]&&(r[n[0]]={}),r[n[0]]=r[n[0]]||{},t(e,n.slice(1),r[n[0]])):r[n[0]]||(r[n[0]]=e)};return[{oldField:"csspath",newField:"cssPath",log:"legacy Settings.yaml. change csspath -> cssPath"},{oldField:"domainURL",newField:"qjsonURLPrefix",log:"legacy Settings.yaml. change domainURL -> qjsonURLPrefix"},{oldField:"urlprefix",newField:"qjsonURLPrefix",log:"legacy Settings.yaml. change urlprefix -> qjsonURLPrefix"},{oldField:"RegionalDefinition",newField:"regionalDefinition",log:"legacy Settings.yaml. change RegionalDefinition -> regionalDefinition"},{oldField:"DomainModuleList",newField:"domainModuleList",log:"legacy Settings.yaml. change DomainModuleList -> domainModuleList"},{oldField:"Backend",newField:"backendInf",log:"legacy Settings.yaml. Move Backend in to backendInf key."},{oldField:"PredefinedBackendHeaders",newField:"backendInf.PredefinedBackendHeaders",log:"legacy Settings.yaml. Move PredefinedBackendHeaders in to backendInf key."},{oldField:"HeaderExceptionList",newField:"backendInf.HeaderExceptionList",log:"legacy Settings.yaml. Move HeaderExceptionList in to backendInf key."},{oldField:"Header",newField:"backendInf.Header",log:"legacy Settings.yaml. Move Header in to backendInf key."},{oldField:"backendInf.singleTab",newField:"singleTab",log:"legacy Settings.yaml. Move Header in to backendInf key."}].forEach((function(n){var r=function(t){for(var n=t.split("."),r=e,o=0;o<n.length;o++){var i=r[n[o]];if(!i)return;o==n.length-1&&delete r[n[o]],r=i}return r}(n.oldField);r&&t(r,n.newField.split("."),e)})),e},e.fixLegacyPathFormat=function(e){if(e.startsWith("quick://")){var t=e.substring(8).split("/");return"/microui/"+t[0]+"/qjson/"+e.substring(t[0].length+9)}return e},e.containerServicesModifications=function(e,t){return e||(e={}),t&&(e.logout=function(){t.logout()},e.getPlateauIAM=function(){return t}),e},e.fixQueryString=function(e){var t,n=window.location.search,o=window.location.hash,i={};n&&(n=(n="?"===n[0]?n.substr(1):n).replace(/\?/,"&"),e=(i=r._.ParseQuery(n)).q?i.q.splice(0,1).join(""):e,0==(null===(t=i.q)||void 0===t?void 0:t.length)&&delete i.q),i.qjsonpath&&(e+="?qjsonpath="+i.qjsonpath.splice(0,1),0==i.qjsonpath.length&&delete i.qjsonpath);var s=Object.entries(i).map((function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}(e,2),n=t[0],r=t[1];return null==r?void 0:r.map((function(e){return encodeURIComponent(n)+"="+encodeURIComponent(e)}))})).map((function(e){return null==e?void 0:e.join("&")})).join("&");if(null==e?void 0:e.endsWith(".js"))return e;if(e){var a=(null==e?void 0:e.endsWith(".qjson"))?e:e+=".qjson";return(s?a+"?"+s:a)+o}return e},e}()},10022:(e,t,n)=>{n.d(t,{z:()=>r});var r=function(){function e(){}return e.changeStyleTagNames=function(){var e=this;this.generateRandomString(),this.classNames=document.getElementsByClassName("plateauStudioClass"),Object.values(this.classNames).forEach((function(t){t.classList.replace("plateauStudioClass",e.randomClassName)}))},e.hideStyleTagNames=function(){for(var e=document.head,t=0;t<e.children.length;t++)e.children[t].className!=this.randomClassName&&"plateauStudioClass"!=e.children[t].className||"STYLE"!=e.children[t].tagName||(this.headContent[t]={content:e.children[t].innerHTML,index:t},e.children[t].innerHTML="")},e.showStyleTagNames=function(){var e=this,t=document.head;Object.keys(this.headContent).forEach((function(n){t.children[n].innerHTML=e.headContent[n].content}))},e.destroyStyleTagNames=function(){var e=this,t=document.head;Object.values(t.children).forEach((function(t){t.className!=e.randomClassName&&"plateauStudioClass"!=t.className||"STYLE"!=t.tagName||t.remove()}))},e.generateRandomString=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=e.length,n=0;n<8;n++)this.randomClassName+=e.charAt(Math.floor(Math.random()*t))},e.headContent={},e.randomClassName="",e}()},11910:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.catcher=void 0;var r=n(99045),o=function(){function e(){}return e.tryLog=function(e){var t=e.cb,n=e.catchLog;try{t()}catch(e){var o=n?n(e):"catcher.tryLog error happened";r.Logger.log({message:o,error:e,level:r.LogLevel.error})}},e}();t.catcher=o},27254:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CreatePromiseData=void 0;var n=!1;new Promise((function(e){return e()})).then((function(){return n=!0})),"undefined"!=typeof doNothing&&doNothing();var r=!0===n;t.CreatePromiseData=function(e,t){void 0===t&&(t={});var n,o=void 0,i=void 0,s=function(e){n&&clearTimeout(n),n=setTimeout((function(){i(new Error("The operation has timed out. timeoutValue  : "+e))}),e)};return e&&s(e),{startTimer:s,promise:new Promise((function(e,n){var s;s=e,o=r&&t.fixSyncResolve?function(e){return setTimeout((function(){return s(e)}))}:s,i=n})),resolver:o,reject:i}}},26984:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CryptoHelper=void 0;var n=function(){function e(){}return e.GetRandomWord=function(e,t){return Math.random().toString(e).substring(2,t+2)},e.CreateGuid=function(){var t=this;return[8,4,4,4,6].map((function(e){return t.GetRandomWord(36,e)})).join("-")+(++e.guidCounter%215e7).toString(36)},e.guidCounter=0,e}();t.CryptoHelper=n},21302:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EventBus=void 0;var r=n(48050),o=function(){function e(){this.subsDict={}}return e.prototype.obtainSubsList=function(e){return this.subsDict[e]||(this.subsDict[e]=new r.Hook("EventBus_"+e))},e.prototype.Subscribe=function(t,n){if(t==e.AllEvents)throw new Error(t+" is a registered key. If you want to subscribe all events, use SubsribeAll().");this.obtainSubsList(t).subscribe(n)},e.prototype.Unsubscribe=function(t,n){var r;if(t==e.AllEvents)throw new Error(t+" is a registered key. If you want to subscribe all events, use SubsribeAll().");null===(r=this.subsDict[t])||void 0===r||r.unsubscribe(n)},e.prototype.SubscribeAll=function(t){this.obtainSubsList(e.AllEvents).subscribe(t)},e.prototype.UnsubscribeAll=function(t){var n;null===(n=this.subsDict[e.AllEvents])||void 0===n||n.unsubscribe(t)},e.prototype.Trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.subsDict[e.AllEvents];if(null==o||o.triggerer.apply(o,n),t!=e.AllEvents){var i=this.subsDict[t];null==i||i.triggerer.apply(i,n)}},e.prototype.TriggerJustAllSubs=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.subsDict[e.AllEvents];null==r||r.triggerer.apply(r,t)},e.AllEvents="AllEvents",e}();t.EventBus=o},35332:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FrameCommunicator=void 0;var r=n(56094),o=function(){function e(e){var t=this;this.OnMessageWithDirectObject=!0,this.targetWindow=e,window.addEventListener("message",(function(n){var r;n.source==e&&(null===(r=t.OnMessage)||void 0===r||r.call(t,n.data))}))}return e.prototype.Send=function(e){this.targetWindow.postMessage(e,"*")},e}(),i=function(){function e(e){this.windowSocket=new o(e),this.structuredSocket=new r.StructuredSocket(this.windowSocket)}return e.prototype.Send=function(e,t,n,r){return this.structuredSocket.Send(n,r)},e.prototype.Subscribe=function(e,t,n){this.structuredSocket.Subscribe(t,n)},e.prototype.SubscribeAll=function(e){this.structuredSocket.SubscribeAll((function(t){return e(t)}))},e.prototype.UnsubscribeAll=function(e){this.structuredSocket.UnsubscribeAll((function(t){return e(t)}))},e}();t.FrameCommunicator=i},48050:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Hook=void 0,n(79914);var r=n(11910),o=function(){function e(e,t){void 0===t&&(t={}),this.subscribers=[],this.hookName=e,this.triggerPostSubscribersWithCb=t.triggerPostSubscribersWithCb||!1,t.manageState=t.manageState||!1,this.hookState={triggered:!1,triggerArgs:[],active:t.manageState}}return Object.defineProperty(e.prototype,"TriggerPostSubscribersWithCb",{get:function(){return this.triggerPostSubscribersWithCb},set:function(e){this.triggerPostSubscribersWithCb=e},enumerable:!1,configurable:!0}),e.prototype.ResetAndStartState=function(){this.hookState.triggerArgs=[],this.hookState.active=!0,this.hookState.triggered=!1},e.prototype.DisableState=function(){this.hookState.triggerArgs=[],this.hookState.active=!1,this.hookState.triggered=!1},e.prototype.IsTriggered=function(){if(!this.hookState.active)throw new Error("IsTriggered can not be checked on a non manageState Hook: "+this.hookName);return this.hookState.triggered},e.prototype.getHookName=function(){var e=this.hookName;return e.toLowerCase().endsWith("hook")||(e+=" hook"),e},Object.defineProperty(e.prototype,"hasSubscribers",{get:function(){return this.subscriberCount>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subscriberCount",{get:function(){return this.subscribers.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPostSubscribers",{get:function(){var e,t;return!0===((null===(e=this.postSubscribers)||void 0===e?void 0:e.hasPostSubscribers)||(null===(t=this.postSubscribers)||void 0===t?void 0:t.hasSubscribers))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"triggerer",{get:function(){return this.trigger},enumerable:!1,configurable:!0}),e.prototype.trigger=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.hookState.active&&(this.hookState.triggered=!0,this.hookState.triggerArgs=n),this.subscribers.forEach((function(e){return t.tryTriggerSubscriber(e,n)})),this.triggerPostSubscribersWithCb||null===(e=this.postSubscribers)||void 0===e||e.triggerer.apply(this.postSubscribers,n)},e.prototype.tryTriggerSubscriber=function(e,t){var n=this;r.catcher.tryLog({cb:function(){return e.apply(null,t)},catchLog:function(){return n.getHookName()+" subscriber failed"}})},e.prototype.triggerPostSubscribers=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===(e=this.postSubscribers)||void 0===e||e.triggerer.apply(this.postSubscribers,t)},e.prototype.postSubscribe=function(t){this.postSubscribers||(this.postSubscribers=new e(this.hookName+"_Post",{manageState:this.hookState.active}),this.postSubscribers.hookState=this.hookState),this.postSubscribers.subscribe(t)},e.prototype.postUnsubscribe=function(e){var t;null===(t=this.postSubscribers)||void 0===t||t.unsubscribe(e)},e.prototype.clearPostSubscribers=function(e){var t;void 0===e&&(e=!1),null===(t=this.postSubscribers)||void 0===t||t.clearSubscribers(),!e&&this.hasPostSubscribers||(this.postSubscribers=void 0)},e.prototype.forceClearAllSubscibers=function(){this.clearPostSubscribers(!0),this.clearSubscribers()},e.prototype.subscribe=function(e){this.subscribers.push(e),this.hookState.active&&this.hookState.triggered&&this.tryTriggerSubscriber(e,this.hookState.triggerArgs)},e.prototype.clearSubscribers=function(){this.subscribers=[]},e.prototype.unsubscribe=function(e){this.subscribers=this.subscribers.filter((function(t){return t!=e}))},e}();t.Hook=o},98099:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.importModuleBody=t.importModuleFile=t.importModule=t.importScript=void 0;var s=n(27254);function a(e){return o(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,fetch(e)];case 1:return[4,t.sent().text()];case 2:return[2,t.sent()]}}))}))}function u(e,t,n){void 0===n&&(n="default");var r={};return new Function("module","exports","require",e)(r,{},t),"*"==n?r.exports:r.exports[n]}t.importScript=function(e,t,n){return void 0===n&&(n="default"),o(this,void 0,void 0,(function(){var o,a,u;return i(this,(function(i){switch(i.label){case 0:return o=(0,s.CreatePromiseData)(),(a=document.createElement("script")).src=e,a.onload=function(){return o.resolver()},a.onerror=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.reject(r({},e))},document.body.appendChild(a),[4,o.promise];case 1:i.sent(),u=window[t];try{delete window[t]}catch(e){}return[2,"*"==n?u:u[n]]}}))}))},t.importModule=function(e,t,n){return void 0===n&&(n="default"),o(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,a(e)];case 1:return[2,u(r.sent(),t,n)]}}))}))},t.importModuleFile=a,t.importModuleBody=u},99045:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogType=t.LogLevelLookup=t.LogLevel=void 0;var r,o,i=n(28036);!function(e){e.debug="DEBUG",e.info="INFO",e.log="LOG",e.trace="TRACE",e.warn="WARNING",e.error="ERROR"}(r=t.LogLevel||(t.LogLevel={})),t.LogLevelLookup={DEBUG:10,INFO:20,LOG:30,TRACE:40,WARNING:50,ERROR:60},function(e){e[e.Debug=0]="Debug",e[e.MobilDebug=1e3]="MobilDebug",e[e.Trace=2e5]="Trace",e[e.Warning=5e5]="Warning",e[e.Error=1e6]="Error"}(o=t.LogType||(t.LogType={}));var s=function(){function e(){}return e.trySingularize=function(e,t){return!this.singularized(e)&&(i.WindowHelper.Instance.Window[e]=t,!0)},e.singularized=function(e){return i.WindowHelper.Instance.Window[e]},e.getFreeName=function(e){for(var t,n=null!==(t=null===i.WindowHelper||void 0===i.WindowHelper?void 0:i.WindowHelper.Instance.Window)&&void 0!==t?t:{},r=0;n[e+"_"+ ++r];);return e+"_"+r},e}(),a=function(){function e(){}return e.Log=function(e){var t,n=e.logMessage,r=e.logType,i=void 0===r?o.Trace:r,s=e.error,a=e.backgroundColor,u=void 0===a?null:a,c=e.textColor,l=void 0===c?null:c,d=e.additional,p=void 0===d?null:d,g=e.source,f=e.isClientLog,h=void 0!==f&&f,v=e.yamlLogType,b=e.minEngineLogLevel,y=u||l?"background: "+u+"; color: "+l:null;switch(!0){case i==o.MobilDebug&&this.logLevel.indexOf(o.MobilDebug)>-1:case i==o.Debug&&this.logLevel.indexOf(o.Debug)>-1:case i==o.Trace&&this.logLevel.indexOf(o.Trace)>-1:t=console.log;break;case i==o.Error&&this.logLevel.indexOf(o.Error)>-1:t=console.error;break;case i==o.Warning&&this.logLevel.indexOf(o.Warning)>-1:t=console.warn}var m=[n];y&&"string"==typeof n&&(m[0]="%c"+n,m.push(y)),s&&m.push(s),p&&m.push(p),g&&m.push({source:g}),null==t||t.apply(console,m),(h||h&&v&&v<=i||b&&b<=i)&&this.prepareClientLog(n,i)},e.prepareClientLog=function(t,n){var r,i,s=new Date(Date.now()),a=s.getFullYear()+"."+("0"+(s.getMonth()+1)).slice(-2)+"."+("0"+s.getDate()).slice(-2)+" "+s.getHours()+":"+("0"+s.getMinutes()).slice(-2)+":"+("0"+s.getSeconds()).slice(-2)+":"+s.getMilliseconds(),u=this.getCalleFunctionName();if("string"!=typeof t&&n>0)try{i=this.shorten(JSON.stringify(t),n)}catch(e){i="Can not stringfy the given log. Type of log data is: "+Object.prototype.toString.call(t)}else i=this.shorten(t,n);null===(r=e.LogBulkManager)||void 0===r||r.writeMessage({message:i,type:o[n],time:a,caller:u})},e.getCalleFunctionName=function(){return""},e.shorten=function(e,t){return t>e.length?e:"Non trimmed message size is: "+e.length},Object.defineProperty(e,"LogBulkManager",{get:function(){return e.logBulkManager||(e.logBulkManager=s.singularized(e.windowName)),e.logBulkManager},enumerable:!1,configurable:!0}),e.log=function(e){var t=[];e.timeFormat&&t.push(this.getDatetimeString(e.timeFormat)),t.push(e.message),e.error&&t.push(e.error),e.additional&&t.push(e.additional),this.getTargetLog(e.level).apply(console,t)},e.getDatetimeString=function(e){var t=new Date;switch(e){case"date":return t.toLocaleDateString("tr-TR");case"datepath":return""+t.toISOString().slice(0,10);case"time":return t.toLocaleTimeString("tr-TR")+"."+t.getMilliseconds();case"datetime":return t.toLocaleString("tr-TR")+"."+t.getMilliseconds()}},e.getTargetLog=function(e){var t;switch(e){case r.debug:t=console.debug;break;case r.info:t=console.info;break;case r.log:t=console.log;break;case r.trace:t=console.trace;break;case r.warn:t=console.warn;break;case r.error:t=console.error;break;default:t=console.log}return t},e.logLevel=[o.MobilDebug,o.Trace,o.Debug,o.Warning,o.Error],e.windowName=s.getFreeName("shrimp_shelldorynemo_pulsar_lbm"),e}();t.Logger=a},45551:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Singularizer=void 0;var n=function(){function e(){}return e.trySingularize=function(e,t,n){var r=t[e];return r||(r=t[e]=n),r},e}();t.Singularizer=n},56094:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StructuredSocket=void 0;var r=n(27254),o=n(26984),i=n(21302),s=function(){function e(e){this.socket=e,this.awaitMsgList={},this.eventBus=new i.EventBus,e.OnMessage=this.listen.bind(this)}return e.prototype.CreatePackage=function(e,t){return{msg:e,id:o.CryptoHelper.CreateGuid(),replyId:t.replyId}},e.prototype.Send=function(e,t){var n,o=this.CreatePackage(e,t);return this.socket.Send(o),t.awaitResponse&&(n=(0,r.CreatePromiseData)(t.awaitTime),this.awaitMsgList[o.id]={promData:n}),null==n?void 0:n.promise},e.prototype.Subscribe=function(e,t){this.eventBus.Subscribe(e,t)},e.prototype.Unsubscribe=function(e,t){this.eventBus.Unsubscribe(e,t)},e.prototype.SubscribeAll=function(e){this.eventBus.SubscribeAll(e)},e.prototype.UnsubscribeAll=function(e){this.eventBus.UnsubscribeAll(e)},e.prototype.tryLogJsonParseEx=function(e){try{return JSON.parse(e)}catch(c){var t=c;if(!t.message)throw c;var n="in JSON at position",r=t.message.indexOf(n);if(r<=-1)throw c;var o=t.message.substring(r+n.length),i=Number(o);if(isNaN(i))throw c;var s=i<30?0:i-30,a=i>e.length-30?e.length:i+30,u=e.substring(s,a);throw console.log(u+"\n"+" ".repeat(i-s)+"^"),c}},e.prototype.ConvertBufferToStructure=function(e){try{var t=this.socket.OnMessageWithDirectObject?e:this.tryLogJsonParseEx(e.toString());return t?t.msg&&t.msg.type?t:void console.log("unexpected message format: missing {msg:{type: ... }} structure"):void console.log("unexpected message format: undefined")}catch(e){return void console.log("unexpected message format: json.parse error: ",e)}},e.prototype.listen=function(e){var t=this.ConvertBufferToStructure(e);if(t){if(t.replyId){var n=this.awaitMsgList[t.replyId];return n&&(delete this.awaitMsgList[t.replyId],n.promData.resolver(t)),void this.eventBus.TriggerJustAllSubs(t)}this.eventBus.Trigger(t.msg.type,t)}},e}();t.StructuredSocket=s},28036:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WindowHelper=void 0;var r=n(99045),o=n(45551),i="undefined",s=function(){function e(){this.doc=typeof document!==i?document:{addEventListener:function(e,t,n){r.Logger.Log({logMessage:"Enviroment does not support document. Triggering document.addEventListener now, type is: "+e,logType:r.LogType.Warning}),t({target:{readyState:this.readyState}})},createElement:function(e,t){return{tagName:e,options:t}},readyState:"complete"},this.hist=typeof history!==i?history:{pushState:function(e,t,n){r.Logger.Log({logMessage:"history.pushState not supported on Node. title: "+t,logType:r.LogType.Debug})}},this.win=typeof window!==i?window:{setInterval,clearInterval,setTimeout,clearTimeout,atob,btoa},this.helperWorker={worker:function(e,t){return typeof Worker!==i?new Worker(e,t):void 0}}}return Object.defineProperty(e.prototype,"onPopState",{set:function(e){typeof window!==i?window.onpopstate=e:r.Logger.Log({logMessage:"onPopState not supported on Node.",logType:r.LogType.Debug})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){return this.doc},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"history",{get:function(){return this.hist},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Window",{get:function(){return this.win},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Worker",{get:function(){return this.helperWorker},enumerable:!1,configurable:!0}),e.Instance=o.Singularizer.trySingularize("theOneWindow",(new e).Window,new e),e}();t.WindowHelper=s},79914:()=>{String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})},68543:(e,t,n)=>{t.fz=void 0;var r=n(35332),o=function(){function e(){}return e.CreatePlateauMessaging=function(e){return new r.FrameCommunicator(e)},e}();t.fz=o}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,loaded:!1,exports:{}};return o[e].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=o,s.amdO={},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);s.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,s.d(o,i),o},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>e+".js?ver=1.2.513",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="@stechquick/websdk:",s.l=(e,t,o,i)=>{if(n[e])n[e].push(t);else{var a,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+o){a=d;break}}a||(u=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",r+o),a.src=e),n[e]=[t];var p=(t,r)=>{a.onerror=a.onload=null,clearTimeout(g);var o=n[e];if(delete n[e],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(r))),t)return t(r)},g=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),u&&document.head.appendChild(a)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{s.b=document.baseURI||self.location.href;var e={46:0};s.f.j=(t,n)=>{var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var i=s.p+s.u(t),a=new Error;s.l(i,(n=>{if(s.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,r[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[i,a,u]=n,c=0;if(i.some((t=>0!==e[t]))){for(r in a)s.o(a,r)&&(s.m[r]=a[r]);u&&u(s)}for(t&&t(n);c<i.length;c++)o=i[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=this.webpackChunk_stechquick_websdk=this.webpackChunk_stechquick_websdk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a={};return(()=>{s.r(a),s.d(a,{createRenderer:()=>y,init:()=>b});var e,t=s(98099),n=s(60035),r=s(5475),o=s(56303),i=s(3085),u=s(68543),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},d=function(){function e(){window.opener&&(this.frameCommunication=u.fz.CreatePlateauMessaging(window.opener))}return e.prototype.isItLivePreview=function(){return c(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:if(!this.frameCommunication)return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.frameCommunication.Send("LivePreview","getLPID",{type:"getLPID"},{awaitResponse:!0,awaitTime:100})];case 2:return(e=t.sent())&&"getLPIDResponse"==e.msg.type?(this.livePreviewID=e.msg.ID,[2,e.msg.ID]):[2,!1];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))},e.prototype.getLivePreviewSettings=function(){return c(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:if(!this.frameCommunication)return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.frameCommunication.Send("LivePreview","getLPPlateauUIOptions",{type:"getLPPlateauUIOptions"},{awaitResponse:!0,awaitTime:1e4})];case 2:return(e=t.sent())&&"getLPPlateauUIOptionsResponse"==e.msg.type?(e.msg.PlateauUIOptions.serviceWorker||(this.getQjsonUrlPrefix=e.msg.getQJsonUrlPrefix),e.msg.PlateauUIOptions.settings.settings=e.msg.PlateauUIOptions.settings.settings||{value:{},type:"object"},e.msg.PlateauUIOptions.settings.settings.value.useLocalProxyOnClient=!0,[2,e.msg.PlateauUIOptions]):[2];case 3:return t.sent(),[2];case 4:return[2]}}))}))},e.prototype.sendSwMessage=function(e){return c(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:if(!this.frameCommunication)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.frameCommunication.Send("LivePreview","lpServiceWorkerRequestRequest",{type:"lpServiceWorkerRequestRequest",resourceId:e},{awaitResponse:!0,awaitTime:6e4})];case 2:return(t=n.sent())&&"lpServiceWorkerRequestResponse"==t.msg.type?[2,t.msg]:[2];case 3:return n.sent(),[2];case 4:return[2]}}))}))},e.prototype.setExternalQJsonRetriever=function(e){this.getQjsonUrlPrefix&&e.setQJsonUrlPrefix(this.getQjsonUrlPrefix)},e}(),p=s(10022),g=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},h=function(){function e(e,t,n){this.container=e,this.renderer=t,this.mountPoint=n}return e.prototype.open=function(e,t){this.container.open({renderer:this.renderer,qjsonPath:e,args:t})},e.prototype.show=function(){this.mountPoint.style.display="block",p.z.showStyleTagNames()},e.prototype.hide=function(){this.mountPoint.style.display="none",p.z.hideStyleTagNames()},e.prototype.close=function(){this.renderer.Hibernate()},e.prototype.destroy=function(){p.z.destroyStyleTagNames()},e.prototype.trigger=function(e){var t=e.eventName,n=e.parameters;return this.renderer.Trigger(t,n)},e}(),v=function(){function e(){this.enviromentInfo="sdk",this.PlateauIAM=void 0,this.PlateauUIOptions={corsEnabled:!0,iam:"./settings/settings_iam.js",settings:"./settings/settings_web.js",asset:"./static/css/assetList.js"}}return e.prototype.init=function(e){var t,n,r,o,a,u,c,l,d,p,h=e.PlateauUIOptions,v=e.environmentInfo,b=void 0===v?"sdk":v;return g(this,void 0,void 0,(function(){var e,g,v,y,m,w,S,P,j,L,k,O,C,I,M,x,T,W,D,E,q,N;return f(this,(function(f){switch(f.label){case 0:return(e=this).enviromentInfo=b,[4,e.configureLivePreview(h)];case 1:return g=f.sent(),e.PlateauUIOptions=g||(null!=h?h:this.PlateauUIOptions),e.settingsWeb?[3,8]:e.lpManager?(e.settingsWeb=e.PlateauUIOptions.settings,[3,7]):[3,2];case 2:return(v=e.PlateauUIOptions.settings)instanceof Promise?[4,v]:[3,4];case 3:return m=f.sent(),[3,6];case 4:return[4,e.LoadJS(v,"plateauUISettings","*")];case 5:m=f.sent(),f.label=6;case 6:if(!(y=m))throw"please set following: PlateauUIOptions['settings']";e.settingsWeb=y,f.label=7;case 7:e.settingsWeb.localProxy&&"object"==e.settingsWeb.localProxy.type&&(e.settingsWeb.settings.value.settingsProxyYaml=e.settingsWeb.settings.value.settingsProxyYaml||{},e.settingsWeb.settings.value.settingsProxyYaml.localProxy=e.settingsWeb.localProxy.value),e.SDKSettings=i.D.migrateLegacySettings(e.settingsWeb.settings.value),f.label=8;case 8:return e.PlateauUIOptions.iam?(w=e.PlateauUIOptions.iam,e.lpManager?(P=w,[3,14]):[3,9]):[3,17];case 9:return w instanceof Promise?[4,w]:[3,11];case 10:return j=f.sent(),[3,13];case 11:return[4,e.LoadJS(w,"plateauUIIAMOptions","*",!1)];case 12:j=f.sent(),f.label=13;case 13:P=j,f.label=14;case 14:return(S=P)&&(null===(t=S.iam)||void 0===t?void 0:t.active)||(null===(n=null==S?void 0:S.iamV2)||void 0===n?void 0:n.active)?(L=e,[4,Promise.all([s.e(0),s.e(128)]).then(s.bind(s,38128))]):[3,17];case 15:if(L.PlateauIAM=new(f.sent().PlateauIAM),e.PlateauIAM.setOptions({iam:S.iam,iamV2:S.iamV2}),e.PlateauIAM.settingsIAM=S,k=!0,O=null!==(r=e.settingsWeb.settings.value.rootqjson)&&void 0!==r?r:e.settingsWeb.settings.value.rootqjsonpath,C=null!==(a=null===(o=e.PlateauIAM.settingsIAM.iamV2)||void 0===o?void 0:o.unsecurePages)&&void 0!==a?a:null===(c=null===(u=e.PlateauIAM.settingsIAM)||void 0===u?void 0:u.iam)||void 0===c?void 0:c.unsecurePages)for(I=0;I<C.length;I++)M=i.D.fixQueryString(),C[I]===(null!=M?M:O)&&(k=!1);return k?[4,e.PlateauIAM.login(e.PlateauUIOptions)]:[3,17];case 16:if(f.sent(),!e.PlateauIAM.isAuthenticated())throw Error("Authentication: Must logon");f.label=17;case 17:if(e.assetList=null===(d=null===(l=null==g?void 0:g.settings)||void 0===l?void 0:l.asset)||void 0===d?void 0:d.value,!(x=e.PlateauUIOptions.asset))return[3,24];if(!(x instanceof Promise))return[3,22];f.label=18;case 18:return f.trys.push([18,20,,21]),T=e,[4,x];case 19:return T.assetList=f.sent(),[3,21];case 20:return W=f.sent(),console.log(W),[3,21];case 21:return[3,24];case 22:return D=e,[4,e.LoadJS(x,"plateauUIAsset","*",!1)];case 23:D.assetList=f.sent(),f.label=24;case 24:return e.SDKInstance?[3,28]:(E=void 0,(null===(p=e.settingsWeb)||void 0===p?void 0:p.containerServices)?[4,e.LoadObject(e.settingsWeb.containerServices,"plateauUIContainerServices","*",!1)]:[3,26]);case 25:E=f.sent(),f.label=26;case 26:return E=i.D.containerServicesModifications(E,this.PlateauIAM),q=e,[4,Promise.all([s.e(149),s.e(607)]).then(s.bind(s,15891))];case 27:q.SDKInstance=new(f.sent().WebSDK)(e.SDKSettings,E,{environmentName:b}),e.lpManager&&e.lpManager.setExternalQJsonRetriever(e.SDKInstance),window.location.search&&(document.cookie="queryParams="+window.location.search+";path=/;"),f.label=28;case 28:return[4,e.setSDKConfig()];case 29:return N=f.sent(),e.SDKConfiguration=N,[2]}}))}))},e.prototype.createRenderer=function(e){var t,n,r=e.mountPoint;return g(this,void 0,void 0,(function(){var e,o;return f(this,(function(i){switch(i.label){case 0:return o=(e=this).SDKInstance.CreateRenderer({mountPoint:r,config:e.SDKConfiguration}),r=null===(n=null===(t=e.SDKInstance)||void 0===t?void 0:t.GetParentInstance(o))||void 0===n?void 0:n.$el,o.DoryInst.SetAssetValues(e.assetList),[4,e.setSettingsQJsons({renderer:o})];case 1:return i.sent(),[2,new h(e,o,r)]}}))}))},e.prototype.initLoadingComponent=function(e){var t,r,o,i,s,a;return g(this,void 0,void 0,(function(){var u,c,l,d,p;return f(this,(function(g){switch(g.label){case 0:if(!(null===(t=(u=this).settingsWeb)||void 0===t?void 0:t.loading)&&!(null===(r=u.settingsWeb)||void 0===r?void 0:r.settings.value.loadingqjson))return[2];if("lottie"==(null===(o=u.settingsWeb.loading)||void 0===o?void 0:o.format)||"object"==(null===(i=u.settingsWeb.loading)||void 0===i?void 0:i.type))throw"Loading Lottie Format or Object Type on Web NOTIMPLEMENTED";return l=e.getContextItem(n.k.contextName),d=e.DoryInst,(p=null===(s=u.settingsWeb)||void 0===s?void 0:s.settings.value.loadingqjson)&&(c={type:"path",path:p.startsWith("/")?p.substring(1):p,options:{disableLoading:!0}}),(null===(a=u.settingsWeb)||void 0===a?void 0:a.loading)&&(c="js"==u.settingsWeb.loading.type?{type:"content",content:e.settingsQJsons.GetLoadingQjson()}:{type:"path",path:u.settingsWeb.loading.value,options:{disableLoading:!0}}),[4,l.retrieveAndFillQjsonAsync({qjson:c,dory:d})];case 1:if(g.sent().changedPath)throw new Error("unexpected path change: possible masterPage");return[2]}}))}))},e.prototype.open=function(e){var t,n,r,o,s,a,u,c,l=e.renderer,d=e.qjsonPath,p=e.args;return g(this,void 0,void 0,(function(){var e,g,h,v,b,y,m,w,S,P;return f(this,(function(f){switch(f.label){case 0:return[4,(e=this).initLoadingComponent(l)];case 1:return f.sent(),h=i.D.fixQueryString(),"sdk"==this.enviromentInfo&&d?(d=i.D.fixLegacyPathFormat(d),g={pjsonPath:d,storeItems:p},[3,9]):[3,2];case 2:return"qui"==this.enviromentInfo&&h?(g={pjsonPath:h,storeItems:p},[3,9]):[3,3];case 3:return g||!(null===(t=e.settingsWeb)||void 0===t?void 0:t.rootqjson)?[3,5]:[4,e.LoadObject(null===(n=e.settingsWeb)||void 0===n?void 0:n.rootqjson,"")];case 4:return v=f.sent(),b=e.settingsWeb.settings.value.rootqjson,g={pjsonContent:v,pageName:b,storeItems:p},[3,9];case 5:return!(null===(r=e.settingsWeb)||void 0===r?void 0:r.settings.value.rootqjsonpath)||e.settingsWeb.rootqjson?[3,8]:[4,null===(o=this.SDKInstance)||void 0===o?void 0:o.qJsonRetriever.retrieveQJsonAsync(null===(s=e.settingsWeb)||void 0===s?void 0:s.settings.value.rootqjsonpath,{disableLoading:!0})];case 6:return y=f.sent(),m={format:"qjson",type:"js",value:y},[4,e.LoadObject(m,"")];case 7:return w=f.sent(),S=e.settingsWeb.settings.value.rootqjsonpath,g={pjsonContent:w,pjsonPath:S},[3,9];case 8:throw Error("please set following: PlateauUIOptions.rootqjson");case 9:return(null===(a=g.pjsonPath)||void 0===a?void 0:a.includes("<<qjsonpass:"))&&(g.pjsonPath=g.pjsonPath.replace("<<qjsonpass:","<<qjson:").replace(".qjson","")),g.theme={isLight:!1,name:"asdsd"},l.Render(g),null==(P=null===(u=this.SDKInstance)||void 0===u?void 0:u.getUXManager())||P.setTheme("default",null===(c=this.settingsWeb)||void 0===c?void 0:c.style),[2]}}))}))},e.prototype.setSDKConfig=function(){var e,t,n,r;return g(this,void 0,void 0,(function(){var o,i,s,a;return f(this,(function(u){return(null===(e=(o=this).settingsWeb)||void 0===e?void 0:e.componentList)&&(i=o.LoadObject(o.settingsWeb.componentList,"plateauUIComponentOptions","*",!1)),(null===(t=o.settingsWeb)||void 0===t?void 0:t.globalLocalization)&&(s=o.LoadObject(null===(n=o.settingsWeb)||void 0===n?void 0:n.globalLocalization,"","*",!1),o.LoadQjson(null===(r=o.settingsWeb)||void 0===r?void 0:r.globalLocalization)),a={},[2,Promise.all([i,s]).then((function(e){var t,n,r,i,s=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}(e,2),u=s[0],c=s[1];return u&&(a.SiteSettings={compSettings:u}),c&&(a.GlobalLRDict=c.clrids),(null===(t=o.SDKSettings)||void 0===t?void 0:t.rootLangCode)&&(a.LRType=null===(n=o.SDKSettings)||void 0===n?void 0:n.rootLangCode),(null===(r=o.SDKSettings)||void 0===r?void 0:r.configValues)&&(a.configValues=null===(i=o.SDKSettings)||void 0===i?void 0:i.configValues),a}))]}))}))},e.prototype.setSettingsQJsons=function(e){var t,n,r,o,i,s,a,u,c=e.renderer;return g(this,void 0,void 0,(function(){var e,l,d,p,g,h,v,b;return f(this,(function(f){switch(f.label){case 0:return l=null===(t=(e=this).settingsWeb)||void 0===t?void 0:t.settings.value.pipelineqjson,d=null===(n=e.settingsWeb)||void 0===n?void 0:n.settings.value.alertqjson,p=null===(r=e.settingsWeb)||void 0===r?void 0:r.settings.value.loadingqjson,(g=(null===(o=e.settingsWeb)||void 0===o?void 0:o.pipeline)||{type:"path",value:(null==l?void 0:l.startsWith("/"))?l.substring(1):l,format:"qjson"})&&g.value?[4,e.LoadObject(g,"","*",!1)]:[3,5];case 1:if(!(b=f.sent()))return[3,5];f.label=2;case 2:return f.trys.push([2,4,,5]),[4,c.settingsQJsons.SetPipelineQjson(b)];case 3:case 4:return f.sent(),[3,5];case 5:return(h=(null===(i=e.settingsWeb)||void 0===i?void 0:i.alert)||{type:"path",value:(null==d?void 0:d.startsWith("/"))?d.substring(1):d,format:"qjson"})&&h.value?[4,e.LoadObject(h,"","*",!1)]:[3,10];case 6:if(!(b=f.sent()))return[3,10];f.label=7;case 7:return f.trys.push([7,9,,10]),[4,c.settingsQJsons.SetAlertQjson(b)];case 8:case 9:return f.sent(),[3,10];case 10:return(v=(null===(s=e.settingsWeb)||void 0===s?void 0:s.loading)||{type:"path",value:(null==p?void 0:p.startsWith("/"))?p.substring(1):p,format:"qjson"})&&v.value?[4,e.LoadObject(v,"","*",!1)]:[3,15];case 11:if(!(b=f.sent()))return[3,15];f.label=12;case 12:return f.trys.push([12,14,,15]),[4,c.settingsQJsons.SetLoadingQjson(b)];case 13:case 14:return f.sent(),[3,15];case 15:return(null===(a=e.SDKSettings)||void 0===a?void 0:a.domainModuleList)?[4,null===(u=e.SDKInstance)||void 0===u?void 0:u.LoadModuleCompLists(e.SDKSettings.domainModuleList).catch((function(e){console.log(e)}))]:[3,17];case 16:f.sent(),f.label=17;case 17:return[2]}}))}))},e.prototype.LoadObject=function(e,n,r,o){return void 0===o&&(o=!0),g(this,void 0,void 0,(function(){var i;return f(this,(function(s){switch(s.label){case 0:return i=this,e?"qjson"!=e.format?[3,2]:[4,i.LoadQjson(e)]:[2];case 1:case 3:case 5:return[2,s.sent()];case 2:if("lottie"==e.format)throw new Error("Not implemented");return"path"!=e.type?[3,4]:[4,i.LoadJS(e.value,n,r,o)];case 4:return"object"==e.type?[2,e.value]:"js"!=e.type?[3,6]:[4,(0,t.importModuleBody)(e.value,(function(){}),r)];case 6:return[2]}}))}))},e.prototype.LoadJS=function(e,n,r,o){return void 0===o&&(o=!0),g(this,void 0,void 0,(function(){var i;return f(this,(function(s){switch(s.label){case 0:s.label=1;case 1:return s.trys.push([1,6,,7]),this.PlateauUIOptions.corsEnabled&&"string"==typeof e?[4,(0,t.importScript)(e,n,r)]:[3,3];case 2:return[2,s.sent()];case 3:return i="string"==typeof e?e:new Request(e.url,{method:"GET",body:JSON.stringify(e.body),headers:e.headers}),[4,(0,t.importModule)(i,(function(){}),r)];case 4:return[2,s.sent()];case 5:return[3,7];case 6:if(s.sent(),!o)return[2,void 0];throw new Error("couldn't load "+JSON.stringify(e));case 7:return[2]}}))}))},e.prototype.LoadQjson=function(e){return g(this,void 0,void 0,(function(){var t,n,s;return f(this,(function(a){switch(a.label){case 0:return t="","path"!=e.type?[3,2]:(n=i.D.fixLegacyPathFormat(e.value),[4,r.E.FetchModuleBody(n)]);case 1:t=a.sent().body,a.label=2;case 2:if("js"==e.type&&(t=e.value),!t)return[2,void 0];if(!(s=o.E.qJsonExtractor(t)))throw new Error("qJsonExtracted is undefined");return[2,s]}}))}))},e.prototype.configureLivePreview=function(e){return g(this,void 0,void 0,(function(){var t,n,r;return f(this,(function(o){switch(o.label){case 0:return(null==e?void 0:e.disableLP)?[2]:(t=this,[4,(n=new d).isItLivePreview()]);case 1:return o.sent()?(t.lpManager=n,[4,n.getLivePreviewSettings()]):[2];case 2:return r=o.sent(),console.log("settingsResponse: ",r),r?(r.serviceWorker&&t.registerServiceWorker(),[2,r]):[2]}}))}))},e.prototype.registerServiceWorker=function(){return g(this,void 0,void 0,(function(){var e,t,n;return f(this,(function(r){switch(r.label){case 0:if(e=this,!("serviceWorker"in navigator))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,navigator.serviceWorker.register("./sw.js",{scope:"/qui-lp/"})];case 2:return(t=r.sent()).installing?console.log("Service worker installing"):t.waiting?console.log("Service worker installed"):t.active&&console.log("Service worker activated"),[3,4];case 3:return n=r.sent(),console.error("Registration failed with "+n),[3,4];case 4:return navigator.serviceWorker.onmessage=function(t){var n=t.data;e.onSWMessage(n)},[2]}}))}))},e.prototype.onSWMessage=function(e){return g(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:return[4,(t=this).lpManager.sendSwMessage(e)];case 1:return n=r.sent(),t.sendMessage(n),[2]}}))}))},e.prototype.sendMessage=function(e){setTimeout((function(){var t;null===(t=navigator.serviceWorker.controller)||void 0===t||t.postMessage(e)}),1e3)},e}();function b(t,n){return g(this,void 0,void 0,(function(){return f(this,(function(r){switch(r.label){case 0:return e?[2]:[4,(e=new v).init({PlateauUIOptions:t,environmentInfo:n})];case 1:return r.sent(),[2,e]}}))}))}function y(t){var n=t.mountPoint;if(!e)throw"websdk initiation went wrong.";return e.createRenderer({mountPoint:n})}})(),a})()));