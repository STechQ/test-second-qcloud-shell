"use strict";(this.webpackChunkqcloud_shell=this.webpackChunkqcloud_shell||[]).push([[6483],{63554:(e,n,a)=>{a.d(n,{Z:()=>d});var t=a(8375),o=a.n(t),i=a(7638),l=a.n(i),r=a(79240),s=l()(o());s.i(r.Z),s.push([e.id,"\n.module-tab-div[data-v-7e10a0ea] {\n    margin-top: 12px;\n}\n.no-module-text[data-v-7e10a0ea] {\n    font-size: 14px;\n    color: #757575\n}\n.ghost-img[data-v-7e10a0ea] {\n    margin-right: 12px;\n    width: 22px;\n}\n.no-data-div[data-v-7e10a0ea] {\n    justify-content: center;\n    display: flex;\n    margin: 24px 0;\n    align-items: center;\n}\n.module-tabs[data-v-7e10a0ea] {\n    display: flex;\n    align-items: center;\n    border-bottom: 1px solid var(--grey-lighten-1, #BDBDBD);\n}\n.tab-item[data-v-7e10a0ea] {\n    height: 36px;\n    padding: 10px 54px 10px 54px;\n    font-family: Roboto;\n    font-size: 14px;\n    font-weight: 500;\n    line-height: 16px;\n    letter-spacing: 0em;\n    text-align: center;\n    color: #A1A1A1;\n}\n.active-category[data-v-7e10a0ea] {\n    color: #151233;\n    border-bottom: 2px solid;\n    font-family: Roboto;\n    font-size: 14px;\n    font-weight: 500;\n    line-height: 16px;\n    letter-spacing: 0em;\n    text-align: center;\n}\n.container[data-v-7e10a0ea] {\n    padding: 32px 20px 20px;\n}\n.table-name[data-v-7e10a0ea] {\n    color: #151233;\n    font-size: 16px;\n    font-weight: 500;\n    line-height: 18px;\n    margin-bottom: 12px;\n}\n.select-module-btn[data-v-7e10a0ea] {\n    border: none;\n    background: none;\n    color: #212121;\n    font-size: 20px;\n}\n.back-button[data-v-7e10a0ea] {\n    font-size: 28px;\n    color: #151233;\n    cursor: pointer;\n    margin-right: 16px;\n}\n.module-name-div[data-v-7e10a0ea] {\n    display: flex;\n    align-items: center;\n    margin-bottom: 16px;\n}\n.module-name[data-v-7e10a0ea] {\n    color: #151233;\n    font-size: 16px;\n    font-weight: 500;\n}\n.remove-module[data-v-7e10a0ea] {\n    background: none;\n    border: none;\n    font-size: 20px;\n    color: #212121;\n    width: 100%;\n    display: flex;\n    justify-content: end;\n    align-items: center;\n}\n.imported-version[data-v-7e10a0ea] {\n    color: #2C5A86;\n    font-size: 14px;\n    font-weight: 500;\n    margin-right: 22px;\n    cursor: pointer;\n}\n.import-btn[data-v-7e10a0ea] {\n    background: none;\n    border: none;\n    font-size: 14px;\n    font-weight: 500;\n    color: #2C5A86;\n    cursor: pointer;\n}\n.add-ref-module-btn[data-v-7e10a0ea] {\n    font-size: 13px;\n    text-align: center;\n    color: #FFFFFF;\n    background: #151233;\n    display: flex;\n    align-items: center;\n    padding: 4px 8px;\n    border-radius: 4px;\n    border: none;\n}\n.remove-module:hover .button-tooltip[data-v-7e10a0ea] {\n    opacity: 1;\n    visibility: visible;\n}\n.button-tooltip[data-v-7e10a0ea] {\n    visibility: hidden;\n    position: absolute;\n    background: #757575;\n    color: #FFFFFF;\n    font-size: 9px;\n    font-family: 'Roboto';\n    text-align: center;\n    border-radius: 4px;\n    letter-spacing: 0.2px;\n    padding: 6px 8px 6px 8px;\n    opacity: 0;\n}\n",""]);const d=s},81166:(e,n,a)=>{a.d(n,{Z:()=>t});const t=a.p+"160ecac2aab009efd6381a6c36c32a71.svg"},70985:(e,n,a)=>{a.d(n,{w:()=>t});const t=Symbol.for("ILocalization")},83240:(e,n,a)=>{a.d(n,{e:()=>t});const t=Symbol.for("IModuleVersionUseCase")},16483:(e,n,a)=>{a.r(n),a.d(n,{default:()=>fe});var t=a(71093),o=a(66190),i=a(46233),l=a(81166),r=a(73843),s=a(5627),d=a(70985),p=a(83240),c=a(29633),u=a(6488),v=a(83487),m=a(88613);const g=e=>((0,t.dD)("data-v-7e10a0ea"),e=e(),(0,t.Cn)(),e),w={class:"container vue-table"},D={key:0},y={class:"module-tabs"},f={key:0},h={key:0,class:"module-tab-div"},b={style:{display:"flex","align-items":"center"}},x=["onClick"],I=g((()=>(0,t._)("i",{class:"mdi mdi-pencil",style:{"font-size":"16px","margin-right":"4px"}},null,-1))),_=["onClick"],k=[g((()=>(0,t._)("i",{class:"mdi mdi-close-circle-outline"},null,-1))),g((()=>(0,t._)("span",{class:"button-tooltip",style:{right:"48px","z-index":"1",width:"80px"}},"Remove Module",-1)))],A={key:1,class:"no-data-div"},z=[g((()=>(0,t._)("img",{class:"ghost-img",src:l.Z},null,-1))),g((()=>(0,t._)("span",{style:{"font-size":"14px",color:"#757575"}},"No modules imported yet.",-1)))],C={key:1},S={key:0,class:"module-tab-div"},O={style:{display:"flex","align-items":"center"}},F=["onClick"],T=g((()=>(0,t._)("i",{class:"mdi mdi-pencil",style:{"font-size":"16px","margin-right":"4px"}},null,-1))),N=["onClick"],H=[g((()=>(0,t._)("i",{class:"mdi mdi-close-circle-outline"},null,-1))),g((()=>(0,t._)("span",{class:"button-tooltip",style:{right:"48px","z-index":"1",width:"80px"}},"Remove Module",-1)))],M={key:1,class:"no-data-div"},Z=[g((()=>(0,t._)("img",{class:"ghost-img",src:l.Z},null,-1))),g((()=>(0,t._)("span",{style:{"font-size":"14px",color:"#757575"}},"No modules imported yet.",-1)))],R={class:"module-tabs"},G={key:2},V={key:0,class:"module-tab-div"},B=["onClick"],P=[g((()=>(0,t._)("i",{class:"mdi mdi-chevron-right"},null,-1)))],W=["onClick"],q={key:1,class:"no-data-div"},E=[g((()=>(0,t._)("img",{class:"ghost-img",src:l.Z},null,-1))),g((()=>(0,t._)("span",{class:"no-module-text"},"No available module yet.",-1)))],j={key:3,class:"module-tab-div"},U={key:0,class:"module-tab-div"},J=["onClick"],L=[g((()=>(0,t._)("i",{class:"mdi mdi-chevron-right"},null,-1)))],K=["onClick"],Q={key:1,class:"no-data-div"},X=[g((()=>(0,t._)("img",{class:"ghost-img",src:l.Z},null,-1))),g((()=>(0,t._)("span",{class:"no-module-text"},"No available module yet.",-1)))],Y={key:1},$={class:"module-name-div"},ee={class:"module-name"},ne=g((()=>(0,t._)("div",null,[(0,t._)("span",{style:{color:"#212121","font-size":"14px"}},"Choose the module version you want to import.")],-1))),ae={key:0,class:"import-btn",style:{color:"#D5D5D5",cursor:"default"}},te=["onClick"],oe=(0,t.aZ)({__name:"attachModuleToApp",setup(e){var n,a,l,g;const oe=s.nC.resolve(m.J),ie=s.nC.resolve(v.y),le=s.nC.resolve(d.w),re=s.nC.resolve(c._),se=s.nC.resolve(u.c),de=s.nC.resolve(p.e),pe=(0,r.iH)([]),ce=(0,r.iH)([]),ue=(0,r.iH)([]),ve=(0,r.iH)([]),me=(0,r.iH)(!1),ge=(0,r.iH)(),we=(0,r.iH)([]),De=(0,r.iH)(["name","description","ownerApp","relatedAppNames","createdBy","createDate","actions"]),ye=(0,r.iH)({filterable:!0,perPage:5,perPageValues:[],headings:{name:le.get("moduleName"),description:le.get("description"),ownerApp:le.get("ownerApp"),relatedAppNames:le.get("relatedApplications"),createdBy:le.get("createdBy"),createDate:le.get("createDate"),shareType:le.get("shareType"),actions:""},resizableColumns:!1,skin:"import-module",texts:{count:"",noResults:"No matching records",filterPlaceholder:"Search"}}),fe=(0,r.iH)(["version","description","createdBy","createDate","state"]),he=(0,r.iH)("Organization"),be=(0,r.iH)("Organization"),xe=(0,r.iH)(null===(n=oe.user.selectedOrganizationGroup)||void 0===n?void 0:n.organizationGroup),Ie=(0,r.iH)(null===(g=null===(l=null===(a=oe.user.selectedOrganizationGroup)||void 0===a?void 0:a.organizationApplications)||void 0===l?void 0:l.find((e=>{var n;return e.organizationId==(null===(n=xe.value)||void 0===n?void 0:n.mainOrganizationId)})))||void 0===g?void 0:g.modules),_e=(0,r.iH)({filterable:!1,perPage:5,perPageValues:[],headings:{version:le.get("version"),description:le.get("description"),createdBy:le.get("createdBy"),createDate:le.get("createDate"),state:""},resizableColumns:!1,skin:"module-versions",texts:{count:"",noResults:"No matching records"}}),ke={month:"2-digit",day:"2-digit",year:"numeric"};function Ae(){function e(e,n){e.ownerApp=e.mainOwner?n[e.mainOwner]:"";const a=e.relatedApplications.map((e=>n[e.applicationID])).filter((n=>n!=e.ownerApp));e.relatedAppNames=a.join(", ")}ie.execute((async()=>{const n=await re.listModules(),a=await re.getGroupModules(),t={};oe.apps.forEach((e=>t[e.ID]=e.name)),n.forEach((n=>{e(n,t);const a=Se(n);a&&n.mainOwner&&n.mainOwner!=oe.studio.appId?(!pe.value.some((e=>e.ID==n.ID))&&pe.value.push(n),ue.value=ue.value.filter((e=>e.ID!=n.ID))):a||(!ue.value.some((e=>e.ID==n.ID))&&ue.value.push(n),pe.value=pe.value.filter((e=>e.ID!=n.ID)))})),null==a||a.forEach((n=>{e(n,t),Se(n)?(!ce.value.some((e=>e.ID==n.ID))&&ce.value.push(n),ve.value=ve.value.filter((e=>e.ID!=n.ID))):(!ve.value.some((e=>e.ID==n.ID))&&ve.value.push(n),ce.value=ce.value.filter((e=>e.ID!=n.ID)))}))}),{loading:!0})}function ze(e,n){var a,t;const o=null===(a=Ie.value)||void 0===a?void 0:a.find((n=>n.ID==e.ID)),i=oe.studio.appId,l=o?ce:pe,r=o?ve:ue,s=o?null===(t=xe.value)||void 0===t?void 0:t.mainOrganizationId:void 0;ie.execute((async()=>{if(n){if(Se(e)){await se.detachModuleFromApplication(e,i,!0,s);const n=l.value.find((n=>n.ID==e.ID));n.relatedApplications=n.relatedApplications.filter((e=>e.applicationID!=i))}await se.attachModuletoApplication(e,i,{outerOrgId:s,version:n}),r.value.find((n=>n.ID==e.ID)).relatedApplications.push({applicationID:i,importedVersion:n}),we.value.find((e=>e.version==n)).relatedApplications.push({applicationID:i,importedVersion:n}),ge.value.currentVersion=n}else await se.attachModuletoApplication(e,i,{}),r.value.find((n=>n.ID==e.ID)).relatedApplications.push({applicationID:i});Ae()}),{loading:!0})}function Ce(e,n){var a,t;const o=null===(a=Ie.value)||void 0===a?void 0:a.find((n=>n.ID==e.ID)),i=o?ce:pe,l=o?null===(t=xe.value)||void 0===t?void 0:t.mainOrganizationId:void 0;ie.execute((async()=>{const a=oe.studio.appId;await se.detachModuleFromApplication(e,a,!1,n,l);const t=i.value.find((n=>n.ID==e.ID));t.relatedApplications=t.relatedApplications.filter((e=>e.applicationID!=a));const o=we.value.find((e=>e.version==n));o&&(o.relatedApplications=t.relatedApplications.filter((e=>e.applicationID!=a))),Ae()}),{loading:!0})}function Se(e){var n;const a=oe.studio.appId;return!!(null===(n=e.relatedApplications)||void 0===n?void 0:n.some((e=>e.applicationID==a)))}function Oe(e){var n;n=e.ID,ie.execute((async()=>{var e,a;const t=(null===(e=Ie.value)||void 0===e?void 0:e.find((e=>e.ID==n)))?null===(a=xe.value)||void 0===a?void 0:a.mainOrganizationId:void 0;we.value=(await de.listModuleVersions(n,t)).reverse()}),{loading:!0}),ge.value=e,ge.value.currentVersion=Fe(e),me.value=!0}function Fe(e){var n;const a=oe.studio.appId;return null===(n=e.relatedApplications.find((e=>a==e.applicationID)))||void 0===n?void 0:n.importedVersion}function Te(){var e;return null===(e=ge.value)||void 0===e?void 0:e.currentVersion}return Ae(),(e,n)=>{var a;const l=(0,t.up)("v-client-table");return(0,t.wg)(),(0,t.iD)("div",w,[me.value?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)("div",D,[(0,t._)("div",y,[(0,t._)("div",{onClick:n[0]||(n[0]=e=>he.value="Organization"),class:(0,o.normalizeClass)(["tab-item","Organization"==he.value?"active-category":""])},"Imported Organization Modules ",2),(0,t._)("div",{onClick:n[1]||(n[1]=e=>he.value="Group"),class:(0,o.normalizeClass)(["tab-item","Group"==he.value?"active-category":""])}," Imported Organization Group Modules",2)]),"Organization"==he.value?((0,t.wg)(),(0,t.iD)("div",f,[pe.value.length>0?((0,t.wg)(),(0,t.iD)("div",h,[(0,t.Wm)(l,{ref:"table",data:pe.value,columns:De.value,options:ye.value},{createDate:(0,t.w5)((e=>[(0,t._)("span",null,(0,o.toDisplayString)(new Intl.DateTimeFormat("tr-TR",ke).format(new Date(e.row.createDate))),1)])),ownerApp:(0,t.w5)((e=>[(0,t._)("span",null,(0,o.toDisplayString)(e.row.ownerApp),1)])),relatedAppNames:(0,t.w5)((e=>[(0,t._)("span",null,(0,o.toDisplayString)(e.row.relatedAppNames),1)])),actions:(0,t.w5)((e=>[(0,t._)("div",b,[(0,t.wy)((0,t._)("div",{class:"imported-version",onClick:n=>Oe(e.row)},[I,(0,t._)("span",null,(0,o.toDisplayString)(Fe(e.row)),1)],8,x),[[i.vShow,Fe(e.row)]]),(0,t._)("button",{class:"remove-module",onClick:n=>Ce(e.row,Fe(e.row))},k,8,_)])])),_:1},8,["data","columns","options"])])):((0,t.wg)(),(0,t.iD)("div",A,z))])):((0,t.wg)(),(0,t.iD)("div",C,[ce.value.length>0?((0,t.wg)(),(0,t.iD)("div",S,[(0,t.Wm)(l,{ref:"table",data:ce.value,columns:De.value,options:ye.value},{createDate:(0,t.w5)((e=>[(0,t._)("span",null,(0,o.toDisplayString)(new Intl.DateTimeFormat("tr-TR",ke).format(new Date(e.row.createDate))),1)])),ownerApp:(0,t.w5)((e=>[(0,t._)("span",null,(0,o.toDisplayString)(e.row.ownerApp),1)])),relatedAppNames:(0,t.w5)((e=>[(0,t._)("span",null,(0,o.toDisplayString)(e.row.relatedAppNames),1)])),actions:(0,t.w5)((e=>[(0,t._)("div",O,[(0,t.wy)((0,t._)("div",{class:"imported-version",onClick:n=>Oe(e.row)},[T,(0,t._)("span",null,(0,o.toDisplayString)(Fe(e.row)),1)],8,F),[[i.vShow,Fe(e.row)]]),(0,t._)("button",{class:"remove-module",onClick:n=>Ce(e.row,Fe(e.row))},H,8,N)])])),_:1},8,["data","columns","options"])])):((0,t.wg)(),(0,t.iD)("div",M,Z))])),(0,t._)("div",R,[(0,t._)("div",{onClick:n[2]||(n[2]=e=>be.value="Organization"),class:(0,o.normalizeClass)(["tab-item","Organization"==be.value?"active-category":""])}," Organization Modules ",2),(0,t._)("div",{onClick:n[3]||(n[3]=e=>be.value="Group"),class:(0,o.normalizeClass)(["tab-item","Group"==be.value?"active-category":""])}," Organization Group Modules",2)]),"Organization"==be.value?((0,t.wg)(),(0,t.iD)("div",G,[ue.value.length>0?((0,t.wg)(),(0,t.iD)("div",V,[(0,t.Wm)(l,{ref:"table",data:ue.value,columns:De.value,options:ye.value},{createDate:(0,t.w5)((e=>[(0,t._)("span",null,(0,o.toDisplayString)(new Intl.DateTimeFormat("tr-TR",ke).format(new Date(e.row.createDate))),1)])),ownerApp:(0,t.w5)((e=>[(0,t._)("span",null,(0,o.toDisplayString)(e.row.ownerApp),1)])),relatedAppNames:(0,t.w5)((e=>[(0,t._)("span",null,(0,o.toDisplayString)(e.row.relatedAppNames),1)])),actions:(0,t.w5)((e=>[(0,t.wy)((0,t._)("button",{class:"select-module-btn",onClick:n=>Oe(e.row)},P,8,B),[[i.vShow,"version"==e.row.shareType]]),(0,t.wy)((0,t._)("button",{class:"add-ref-module-btn",onClick:n=>ze(e.row)},"ADD",8,W),[[i.vShow,"reference"==e.row.shareType]])])),_:1},8,["data","columns","options"])])):((0,t.wg)(),(0,t.iD)("div",q,E))])):((0,t.wg)(),(0,t.iD)("div",j,[ve.value.length>0?((0,t.wg)(),(0,t.iD)("div",U,[(0,t.Wm)(l,{ref:"table",data:ve.value,columns:De.value,options:ye.value},{createDate:(0,t.w5)((e=>[(0,t._)("span",null,(0,o.toDisplayString)(new Intl.DateTimeFormat("tr-TR",ke).format(new Date(e.row.createDate))),1)])),ownerApp:(0,t.w5)((e=>[(0,t._)("span",null,(0,o.toDisplayString)(e.row.ownerApp),1)])),relatedAppNames:(0,t.w5)((e=>[(0,t._)("span",null,(0,o.toDisplayString)(e.row.relatedAppNames),1)])),actions:(0,t.w5)((e=>[(0,t.wy)((0,t._)("button",{class:"select-module-btn",onClick:n=>Oe(e.row)},L,8,J),[[i.vShow,"version"==e.row.shareType]]),(0,t.wy)((0,t._)("button",{class:"add-ref-module-btn",onClick:n=>ze(e.row)},"ADD",8,K),[[i.vShow,"reference"==e.row.shareType]])])),_:1},8,["data","columns","options"])])):((0,t.wg)(),(0,t.iD)("div",Q,X))]))])),me.value?((0,t.wg)(),(0,t.iD)("div",Y,[(0,t._)("div",$,[(0,t._)("i",{class:"mdi mdi-arrow-left-box back-button",onClick:n[4]||(n[4]=e=>{me.value=!1})}),(0,t._)("span",ee,(0,o.toDisplayString)(null===(a=ge.value)||void 0===a?void 0:a.name),1)]),ne,(0,t.Wm)(l,{ref:"table",data:we.value,columns:fe.value,options:_e.value},{createDate:(0,t.w5)((e=>[(0,t._)("span",null,(0,o.toDisplayString)(new Intl.DateTimeFormat("tr-TR",ke).format(new Date(e.row.createDate))),1)])),state:(0,t.w5)((e=>[e.row.version==Te()?((0,t.wg)(),(0,t.iD)("button",ae,"Imported")):((0,t.wg)(),(0,t.iD)("button",{key:1,class:"import-btn",onClick:n=>ze(ge.value,e.row.version)},"Import",8,te))])),_:1},8,["data","columns","options"]),(0,t.Uk)(", ")])):(0,t.kq)("v-if",!0)])}}});var ie=a(17450),le=a.n(ie),re=a(29530),se=a.n(re),de=a(16199),pe=a.n(de),ce=a(40458),ue=a.n(ce),ve=a(62916),me=a.n(ve),ge=a(92165),we=a.n(ge),De=a(63554),ye={};ye.styleTagTransform=we(),ye.setAttributes=ue(),ye.insert=pe().bind(null,"head"),ye.domAPI=se(),ye.insertStyleElement=me(),le()(De.Z,ye),De.Z&&De.Z.locals&&De.Z.locals;const fe=(0,a(32525).Z)(oe,[["__scopeId","data-v-7e10a0ea"]])}}]);